(this["webpackJsonpdonatello-test"]=this["webpackJsonpdonatello-test"]||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(30),i=n.n(a),s=(n(93),n(2)),d=n(5),l=n(7),c=n(6),u=(n(94),n(95),n(19)),p=n(128),f=n(87),h=n(72),g=n(76),m=n(20);function y(){var e=Object(u.a)(["\n  animation-name: ",";\n  animation-duration: 400ms;\n  transform: rotate(","deg);\n"]);return y=function(){return e},e}function v(){var e=Object(u.a)(["\n  animation-name: ",";\n  animation-duration: 400ms;\n  height: ","px;\n"]);return v=function(){return e},e}function _(){var e=Object(u.a)(["\n  animation-name: ",";\n  animation-duration: 500ms;\n  opacity: ",";\n"]);return _=function(){return e},e}function w(){var e=Object(u.a)(["\n  0% {\n    opacity: ",";\n  }\n  50% {\n    opacity: ",";\n  }\n  100% {\n    opacity: ",";\n  }\n \n"]);return w=function(){return e},e}function b(){var e=Object(u.a)(["\n  from {\n    height: ","px;\n  }\n  to {\n    height: ","px;\n   \n  }\n"]);return b=function(){return e},e}function k(){var e=Object(u.a)(["\n  from {\n    height: ","px;\n  }\n  to {\n    height: ","px;\n   \n  }\n"]);return k=function(){return e},e}function x(){var e=Object(u.a)(["\n  from {\n    transform: rotate(90deg);\n  }\n  to {\n    transform: rotate(90deg);\n   \n  }\n"]);return x=function(){return e},e}function E(){var e=Object(u.a)(["\n  from {\n    transform: rotate(","deg);\n  }\n  to {\n    transform: rotate(","deg);\n   \n  }\n"]);return E=function(){return e},e}var O=m.a.div(_(),(function(e){var t=e.expanded;if(!e.initialRendering)return Object(m.b)(w(),t?1:0,t?1:0,t?0:1)}),(function(e){return e.collapsable&&e.expand?0:1})),R=m.a.div(v(),(function(e){var t=e.expand,n=e.collapsable,r=e.minHeight,o=e.maxHeight;return n?Object(m.b)(k(),t?r:o,t?o:r):n?void 0:Object(m.b)(b(),r,r)}),(function(e){return e.collapsable&&e.expand?e.maxHeight:e.minHeight})),S=m.a.div(y(),(function(e){var t=e.expanded,n=e.initialRendering;return n?n?Object(m.b)(x()):void 0:Object(m.b)(E(),t?-90:90,t?90:270)}),(function(e){return e.expanded?90:270})),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return o.a.createElement("div",{style:{width:"200px",color:"#fff",backgroundColor:"#ad2f38",borderTopLeftRadius:"5px",borderTopRightRadius:"10px",marginLeft:"left"===t?0:"50%"},key:"containerHeaderKey"+n},n,r?o.a.createElement(S,{key:"someKey"+n,size:"sm",color:"secondary",className:"btn-secondary",expanded:a,duration:500,style:{margin:"0 0",flexGrow:"1",display:"flex",alignSelf:"center",width:"20px",height:"20px",borderRadius:"20px",padding:0,border:"solid 1px",borderColor:"#525252",float:"right",right:"10px",top:"2px",position:"relative",zIndex:100},onClick:i},o.a.createElement(h.a,{icon:g.a,className:"align-self-center",style:{marginLeft:"4px",fontSize:"20px"}})):"")},C=function(e,t,n,r,a,i,s,d){return o.a.createElement(R,{id:"tlh_bodyOf"+t,collapsable:a,expand:i,minHeight:s,maxHeight:d,style:{width:e.width?e.width:"250px",backgroundColor:"white",marginBottom:"10px",border:"1px solid gray",borderTopLeftRadius:"0px",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",borderBottomRightRadius:0,overflow:"hidden",color:"#505565"}},r,a&&!i&&o.a.createElement(O,{expanded:i,style:{position:"relative",float:"right",marginTop:-d+s-15+5,height:"15px",width:"100%",backgroundColor:"#c4c4c4",borderRadius:"15px"}}))},L=function(e){var t=Object(r.useState)(!0),n=Object(f.a)(t,2),a=n[0],i=n[1];return o.a.createElement("div",{style:{paddingRight:"10px"}},N(e,e.position,e.title,e.collapsable,a,(function(){return i(!a)})),C(e,e.title,e.position,e.children,e.collapsable,a,e.minHeight,e.maxHeight))},T=n(78),I=n(39),D=n(17),P=function(e){return function(t){t({type:"SELECT_DATASOURCE",payload:{selectedDataSource:e}})}},M=function(e){return function(t){t({type:"UPDATE_RENDERING_MODULE_CONFIG",payload:e})}};function j(){var e=Object(u.a)(["\n  animation-name: ",";\n  animation-duration: 400ms;\n  left: ","px;\n"]);return j=function(){return e},e}function A(){var e=Object(u.a)(["\n  from {\n    left: ","px;\n  }\n  to {\n    left: ","px;\n   \n  }\n"]);return A=function(){return e},e}var H=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(e,t){t.expanded!==r.state.expanded&&r.setState({initialRendering:!1})},r.updateDimensions=function(){r.setState({innerHeight:window.innerHeight})},r.collapseLeftSideBar=function(){r.props.updateEvent(!r.state.expanded),r.setState({expanded:!r.state.expanded})},r.dataSourceSelected=function(e){r.setState({selectedDataSource:e}),r.props.selectDataSource(e)},r.vertexEdgeMapperSelected=function(e){r.setState({selectedVertexEdgeMapper:e}),r.props.selectVertexEdgeMapper(e)},r.nodeLinkMapperSelected=function(e){r.setState({selectedNodeLinkMapper:e}),r.props.selectNodeLinkMapper(e)},r.awailableSources=I.availableSources,r.awailableVertexEdgeMappers=I.availableVertexEdgeMappers,r.availableNodeLinkMappers=I.availableNodeLinkMappers,r.state={expanded:!0,minHeight:200,title:e.title,initialRendering:!0,selectedDataSource:void 0,defaultDataSource:"Ontology File",selectedVertexEdgeMapper:void 0,defaultVertexEdgeMapper:"Basic Mapper",innerHeight:300,selectedNodeLinkMapper:void 0,defaultNodeLinkMapper:"Basic Mapper"},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"render",value:function(){var e=this;return o.a.createElement(W,{id:"LeftSidebarContainer",expanded:this.state.expanded,initialRendering:this.state.initialRendering,width:this.props.width,style:{width:this.props.width,height:this.state.innerHeight-20,float:"left",position:"absolute"}},o.a.createElement(p.a,{className:"pr-md-5 pt-sm-2 pb-sm-2 pl-sm-2 pr-sm-2 clearfix",style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderBottomRightRadius:"0",borderBottomLeftRadius:"0",height:"40px",marginLeft:"5px",color:"white",backgroundColor:"#ad2f38"}},o.a.createElement("div",{style:{width:this.props.width-10,textAlign:"center"}},this.state.title)),o.a.createElement(p.a,{className:"pr-md-5 pt-sm-2 pb-sm-2 pl-sm-2 pr-sm-2 clearfix",style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderTopRightRadius:"0",borderTopLeftRadius:"0",marginLeft:"5px",color:"black",backgroundColor:"#ffffff",marginTop:"-1px",position:"relative",height:"93%",overflowY:"auto",overflowX:"hidden"}},o.a.createElement("div",{style:{width:this.props.width-20,textAlign:"center"}},o.a.createElement(L,{title:"Data Source ",position:"left",collapsable:!1,width:"100%"},o.a.createElement("div",{style:{padding:"10px",display:"grid"}},this.awailableSources.map((function(t,n){var r=e.state.selectedDataSource;return r||(r=e.state.defaultDataSource),o.a.createElement(T.a,{key:"datasourceIte"+n,style:{margin:"5px",borderRadius:"0px",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",backgroundColor:t===r?"#ad2f38":"#1e68a5"},onClick:function(){e.dataSourceSelected(t)}},t)})))),o.a.createElement(L,{title:"Vertex Edge Mapper ",position:"left",collapsable:!1,width:"100%"},o.a.createElement("div",{style:{padding:"10px",display:"grid"}},this.awailableVertexEdgeMappers.map((function(t,n){var r=e.state.selectedVertexEdgeMapper;return r||(r=e.state.defaultVertexEdgeMapper),o.a.createElement(T.a,{key:"datasourceIte"+n,style:{margin:"5px",borderRadius:"0px",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",backgroundColor:t===r?"#ad2f38":"#1e68a5"},onClick:function(){e.vertexEdgeMapperSelected(t)}},t)})))),o.a.createElement(L,{title:"Node Link Mapper ",position:"left",collapsable:!1,width:"100%"},o.a.createElement("div",{style:{padding:"10px",display:"grid"}},this.availableNodeLinkMappers.map((function(t,n){var r=e.state.selectedNodeLinkMapper;return r||(r=e.state.defaultNodeLinkMapper),o.a.createElement(T.a,{key:"datasourceIte"+n,style:{margin:"5px",borderRadius:"0px",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",backgroundColor:t===r?"#ad2f38":"#1e68a5"},onClick:function(){e.nodeLinkMapperSelected(t)}},t)})))))))}}]),n}(r.Component),F=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{selectDataSource:function(t){return e(P(t))},selectVertexEdgeMapper:function(t){return e((n=t,function(e){e({type:"SELECT_VERTEXEDGE_MAPPER",payload:{selectedVertexEdgeMapper:n}})}));var n},selectNodeLinkMapper:function(t){return e((n=t,function(e){e({type:"SELECT_NODELINK_MAPPER",payload:{selectedNodeLinkMapper:n}})}));var n}}}))(H),W=m.a.div(j(),(function(e){var t=e.expanded,n=e.width;return Object(m.b)(A(),t?-n:0,t?0:-n)}),(function(e){return e.expanded?0:-e.width}));function z(){var e=Object(u.a)(["\n  animation-name: ",";\n  animation-duration: 400ms;\n  right: ","px;\n"]);return z=function(){return e},e}function B(){var e=Object(u.a)(["\n  from {\n    right: ","px;\n  }\n  to {\n    right: ","px;\n   \n  }\n"]);return B=function(){return e},e}var V=m.a.aside(z(),(function(e){var t=e.expanded,n=e.width;return Object(m.b)(B(),t?-(n-10):8,t?8:-(n-10))}),(function(e){return e.expanded?8:-(e.width-10)})),U=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(e,t){t.expanded!==r.state.expanded&&r.setState({initialRendering:!1}),r.props.heightUpdateEvent()},r.collapseSidebar=function(){r.props.updateEvent(!r.state.expanded),r.setState({expanded:!r.state.expanded})},r.state={expanded:!1,minHeight:200,title:e.title,initialRendering:!0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.body.style.overflowX="hidden"}},{key:"componentWillUnmount",value:function(){document.body.style.overflowX="auto"}},{key:"render",value:function(){return o.a.createElement(V,{id:"RightSidebarContainer",expanded:this.state.expanded,width:this.props.width,initialRendering:this.state.initialRendering,style:{width:this.props.width,position:"absolute",height:window.innerHeight-40,display:"none"}},o.a.createElement(p.a,{className:"pr-md-5 pt-sm-2 pb-sm-2 pl-sm-2 pr-sm-2 clearfix",style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderBottomRightRadius:"0",borderBottomLeftRadius:"0",height:"40px",marginLeft:"5px",color:"white",backgroundColor:"#ad2f38"}},o.a.createElement("div",{style:{width:this.props.width-10,textAlign:"center"}},this.state.title)),o.a.createElement(p.a,{className:"pr-md-5 pt-sm-2 pb-sm-2 pl-sm-2 pr-sm-2 clearfix",style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderTopRightRadius:"0",borderTopLeftRadius:"0",marginLeft:"5px",color:"black",backgroundColor:"#ffffff",marginTop:"-1px",height:"90%",position:"relative"}},o.a.createElement("div",{style:{width:this.props.width-10,textAlign:"center"}},"RightSide")))}}]),n}(r.Component),G=n(23),q=n(79),J=n.n(q),X=n(80),Y=n.n(X),$=n(81),K=n(82),Q=function e(t){var n=this;Object(s.a)(this,e),this.execute=function(){console.log("Creating zip file "),console.log("Has param",n.componentDefinitions);var e=n;Y.a.getBinaryContent($,(function(t,n){if(t)throw t;J.a.loadAsync(n).then((function(t){var n=[],r=[];"Ontology File"===e.componentDefinitions.selectedDataSource&&(n.push('import StaticLocalVowlJSONLoader from "./Implementation/DataAccessComponent/StaticLocalVowlJSONLoader"; '),n.push('import VOWLParser from "./Implementation/Parsers/VOWLParser";'),r.push("const loader = new StaticLocalVowlJSONLoader()"),r.push("const parser = new VOWLParser()")),"DBPedia"===e.componentDefinitions.selectedDataSource&&(n.push('import DBPediaLoader from "./Implementation/DataAccessComponent/DBPediaLoader";'),n.push('import SparqlParser from "./Implementation/Parsers/SparqlParser";'),r.push("const loader = new DBPediaLoader()"),r.push("const parser = new SparqlParser()")),"WikiData"===e.componentDefinitions.selectedDataSource&&(n.push('import WikiDataLoader from "./Implementation/DataAccessComponent/WikiDataLoader";'),n.push('import WikiDataExampleParser from "./Implementation/Parsers/WikiDataParserExample";'),r.push("const loader = new WikiDataLoader()"),r.push("const parser = new WikiDataExampleParser()")),"ORKG"===e.componentDefinitions.selectedDataSource&&(n.push('import OrkgDataLoader from "./Implementation/DataAccessComponent/OrkgDataLoader";'),n.push('import ORKGParser from "./Implementation/Parsers/ORKGParser";'),r.push("const loader = new OrkgDataLoader()"),r.push("const parser = new ORKGParser()")),n.push('import BaseVertexEdgeMapper from "./Implementation/Mappers/BaseVertexEdgeMapper";'),r.push("const mapper1 = new BaseVertexEdgeMapper()"),"Basic Mapper"===e.componentDefinitions.selectedNodeLinkMapper&&(n.push('import BaseNodeLinkMapper from "./Implementation/Mappers/BaseNodeLinkMapper";'),r.push("const mapper2 = new BaseNodeLinkMapper()")),"VOWL"===e.componentDefinitions.selectedNodeLinkMapper&&(n.push('import VowlNodeLinkMapper from "./Implementation/Mappers/VowlNodeLinkMapper";'),r.push("const mapper2 = new VowlNodeLinkMapper()")),"RDF"===e.componentDefinitions.selectedNodeLinkMapper&&(n.push('import RDFNodeLinkMapper from "./Implementation/Mappers/RDFNodeLinkMapper";'),r.push("const mapper2 = new RDFNodeLinkMapper()")),"UML"===e.componentDefinitions.selectedNodeLinkMapper&&(n.push('import UMLNodeLinkMapper from "./Implementation/Mappers/UMLNodeLinkMapper";'),r.push("const mapper2 = new UMLNodeLinkMapper()")),"ORKG"===e.componentDefinitions.renderingModuleConfig.configSelected?(n.push('import OrkgGraph from "./Implementation/Renderes/gizmoRenderer/orkgGraph";'),r.push("const graph = new OrkgGraph()")):(n.push('import VOWLRenderer from "./Implementation/Renderes/gizmoRenderer/vowlGraph";'),r.push("const graph = new VOWLRenderer()")),"Default"===e.componentDefinitions.renderingModuleConfig.configSelected&&(n.push('import BasicRenderingHandler from "./Implementation/Renderes/gizmoRenderer/renderingConfigs/BasicRenderingHandler";'),r.push("const renderingConfig = new BasicRenderingHandler()")),"VOWL"===e.componentDefinitions.renderingModuleConfig.configSelected&&(n.push('import VOWLRenderingHandler from "./Implementation/Renderes/gizmoRenderer/renderingConfigs/VOWLRenderingHandler";'),r.push("const renderingConfig = new VOWLRenderingHandler()")),"RDF"===e.componentDefinitions.renderingModuleConfig.configSelected&&(n.push('import RDFStyledRenderingHandler from "./Implementation/Renderes/gizmoRenderer/renderingConfigs/RDFStyledRenderingHandler";'),r.push("const renderingConfig = new RDFStyledRenderingHandler()")),"UML"===e.componentDefinitions.renderingModuleConfig.configSelected&&(n.push('import UMLStyledRenderingHandler from "./Implementation/Renderes/gizmoRenderer/renderingConfigs/UMLStyledRenderingHandler";'),r.push("const renderingConfig = new UMLStyledRenderingHandler()")),"ORKG"===e.componentDefinitions.renderingModuleConfig.configSelected&&(n.push('import OrkgRenderingHandler from "./Implementation/Renderes/gizmoRenderer/renderingConfigs/OrkgRenderingHandler";'),r.push("const renderingConfig = new OrkgRenderingHandler()"));var o=e.componentDefinitions.renderingModuleConfig,a="\n\n";a+='export default class Pipeline {\n\nexecutePipeline = () => {\n console.log("Executing pipeline");\n',r.forEach((function(e){a+="  "+e+"\n"})),a+="\n\n",a+="graph.setRenderingConfig(renderingConfig);\n",a+="const config="+JSON.stringify(o,null,"\t")+";\n",a+='graph.setRenderingContainer("renderingContainer");\ngraph.configureGraphInteractions(config);\n',a+="  loader.execute().then(() => {\n    parser.setInputData(loader.getResult());\n    parser.execute().then(() => {});\n\n    mapper1.setInputData(parser.getResult());\n    mapper1.execute().then(() => {\n      mapper2.setInputData(mapper1.getResult());\n      mapper2.execute().then(() => {\n        graph.setModel(mapper2.getResult().resultingModel.getResult());\n        // do the rendering magic\n        graph.initializeRenderingContainer();\n        graph.createRenderingElements();\n        graph.drawRenderingPrimitives();\n      });\n    });\n  });\n}",a+="};";var i="";n.forEach((function(e){i+=e+"\n"})),t.file("src/pipeline.js",i+a),t.generateAsync({type:"blob"}).then((function(e){K(e,"donatello-demo-pipeline.zip")}))}))}))},this.componentDefinitions=t},Z=n(136),ee=n(129),te=n(130),ne=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={windowHeight:0},e.componentDidUpdate=function(){},e.updateDimensions=function(){e.setState({windowHeight:window.innerHeight-121})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){return o.a.createElement(Z.a,{isOpen:this.props.showDialog,toggle:this.props.toggle,size:"lg",onOpened:function(){},style:{maxWidth:"90%",marginBottom:0}},o.a.createElement(ee.a,{toggle:this.props.toggle},o.a.createElement("div",{className:"d-flex",style:{height:"40px"}},o.a.createElement("div",{style:{width:"100%",height:"40px",paddingTop:"5px"}},this.props.title))),o.a.createElement(te.a,{style:{padding:"0",minHeight:"100px",height:this.state.windowHeight,overflow:"auto"}},this.props.children))}}]),n}(r.Component),re=Object(D.c)((function(e){return{store:e.store}}))(ne),oe=n(9),ae=n.n(oe),ie=n(12),se=n(83),de=function e(){var t=this;Object(s.a)(this,e),this.getResult=function(){return t.resultObject},this.setInputData=function(e){t.inputDataAsJsonObject=e},this.execute=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.inputDataAsJsonObject){e.next=3;break}return console.log("No JSON object given as data input "),e.abrupt("return");case 3:return e.next=5,t.__run__();case 5:t._postRun_();case 6:case"end":return e.stop()}}),e)}))),this.__run__=function(){},this._postRun_=function(){},this.type="TYPE_ABSTRACT_BASE_COMPONENT",this.inputDataAsJsonObject=null,this.resultObject={}},le=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).execute=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__run__();case 2:case"end":return t.stop()}}),t)}))),e.getResult=function(){return e.dataHandlerObject.theData},e.__run__=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.dataHandlerObject||(e.dataHandlerObject={}),e.dataHandlerObject.theData=JSON.parse(JSON.stringify(se));case 2:case"end":return t.stop()}}),t)}))),e.type="TYPE_VOWL_STATIC_LOCAL",e}return n}(de),ce=function e(){var t=this;Object(s.a)(this,e),this.getResult=function(){return t.modelAsJsonObject},this.getResourceIdentifier=function(){return t.__resourceIdentifier},this.setResourceIdentifier=function(e){t.__resourceIdentifier=e},this.__isInMap__=function(e,t){return!0},this.__resourceIdentifier__=function(e){},this.__isEqual__=function(e,t){return!1},this.type="TYPE_ABSTRACT_MODEL",this.modelAsJsonObject=null,this.__resourceIdentifier="baseModelResourceIdentifier"},ue=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__isInMap__=function(e,t){return t?!!e[t]:(console.error("No Identifier Found in resource! give it unique ids as properties and set the resourceIdentifier name (setResourceIdentifier('ID'))"),!0)},e.__isEqual__=function(e,t){return!1},e.__resourceIdentifier__=function(t){return t[e.__resourceIdentifier]},e.addResource=function(t){e.__isInMap__(e.resourceMap,e.__resourceIdentifier__(t))?e.__mergeItem(e.resourceMap[e.__resourceIdentifier__(t)],t):e.__integrateResourceItem(e.modelAsJsonObject.resources,e.resourceMap,t)},e.__mergeItem=function(e,t){e.integrateResource(t)},e.__integrateResourceItem=function(t,n,r){t.push(r),n[e.__resourceIdentifier__(r)]=r},e.addRelation=function(t){e.__isInMap__(e.relationMap,e.__resourceIdentifier__(t))?e.__mergeItem(e.relationMap[e.__resourceIdentifier__(t)],t):e.__integrateResourceItem(e.modelAsJsonObject.relations,e.relationMap,t)},e.type="TYPE_RESOURCE_RELATION_MODEL",e.modelAsJsonObject={resources:[],relations:[]},e.resourceMap={},e.relationMap={},e.__resourceIdentifier="__resourceIdentifier",e}return n}(ce),pe=function(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)},fe=function(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.overrideMimeType("application/json"),r.onerror=n,r.onload=function(){return t(r.responseText)},r.open("GET",e),r.send()}))},he=function(){function e(){var t=this;Object(s.a)(this,e),this.addAnnotation=function(e,n,r){var o=e;if(pe(e)){var a=e.split("#")[1],i="";if(a)i=e.split("#")[0],i+="#";else{var s=e.split("/");a=s[s.length-1];for(var d=0;d<s.length-1;d++)i+=s[d];i+="/"}var l=t.prefixMapperL2S[i];l&&(o=l+":"+a)}t._annotations[o]||(t._annotations[o]={});var c="default";r&&"undefined"!==r&&(c=r);var u=t._annotations[o];u[c]||(u[c]=[]),u[c].push(n)},this._resourceURI=void 0,this._semanticType=[],this._annotations={},this._axioms={},this.__resourceIdentifier=void 0,this.prefixMapperL2S={"http://www.w3.org/2000/01/rdf-schema#":"rdfs"}}return Object(d.a)(e,[{key:"resourceIdentifier",value:function(e){if(!arguments.length)return this.__resourceIdentifier;this.__resourceIdentifier=e}},{key:"addSemanticType",value:function(e){-1===this._semanticType.indexOf(e)&&this._semanticType.push(e)}},{key:"addAxiom",value:function(e,t,n){this._axioms.hasOwnProperty(t)||(this._axioms[t]=[]),this._axioms[t].push(n)}},{key:"integrateResource",value:function(e){var t=this;for(var n in e._semanticType.forEach((function(e){t.addSemanticType(e)})),e._annotations)if(e._annotations.hasOwnProperty(n)){var r=e._annotations[n];this._annotations[n]||(this._annotations[n]={});var o=function(e){if(r.hasOwnProperty(e)){var o=r[e],a=t._annotations[n];a[e]||(a[e]=[]),o.forEach((function(t){-1===a[e].indexOf(t)&&a[e].push(t)}))}};for(var a in r)o(a)}var i=function(n){e._axioms.hasOwnProperty(n)&&(t._axioms[n]||(t._axioms[n]=[]),e._axioms[n].forEach((function(e){-1===t._axioms[n].indexOf(e)&&t._axioms[n].push(e)})))};for(var s in e._axioms)i(s)}}]),e}(),ge=n(38),me=n(25),ye=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).domains=[],e.ranges=[],e.domainRangePairs=[],e}return Object(d.a)(n,[{key:"addRange",value:function(e){-1===this.ranges.indexOf(e)&&this.ranges.push(e)}},{key:"addDomain",value:function(e){this.domains.push(e)}},{key:"addDomainRangePair",value:function(e,t){this.domainRangePairs.push({domain:e,range:t})}},{key:"integrateResource",value:function(e){var t=this;Object(ge.a)(Object(me.a)(n.prototype),"integrateResource",this).call(this,e),e.domains.forEach((function(e){-1===t.domains.indexOf(e)&&t.domains.push(e)})),e.ranges.forEach((function(e){-1===t.ranges.indexOf(e)&&t.ranges.push(e)})),e.domainRangePairs.forEach((function(e){t.domainRangePairs.push(e)}))}}]),n}(he),ve=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__run__=Object(ie.a)(ae.a.mark((function t(){var n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ue,r=e._preProcess(),e._processData(n,r);case 3:case"end":return t.stop()}}),t)}))),e._preProcess=function(){var t=e.inputDataAsJsonObject.class,n=e.inputDataAsJsonObject.property,r=new Map(t.map((function(e){return[e.id,e]}))),o=new Map(n.map((function(e){return[e.id,e]}))),a=e.inputDataAsJsonObject.classAttribute,i=e.inputDataAsJsonObject.propertyAttribute;return a.forEach((function(e){e.type=r.get(e.id).type})),r=new Map(a.map((function(e){return[e.id,e]}))),a.forEach((function(e){if(e.superClasses)for(var t=0;t<e.superClasses.length;t++)e.superClasses[t]=r.get(e.superClasses[t]).iri;if(e.equivalent)for(var n=0;n<e.equivalent.length;n++)e.equivalent[n]=r.get(e.equivalent[n]).iri})),i.forEach((function(e){e.type=o.get(e.id).type,e.domain&&(e.domain=r.get(e.domain).iri),e.range&&(e.range=r.get(e.range).iri)})),o=new Map(i.map((function(e){return[e.id,e]}))),i.forEach((function(e){if(e.subproperty)for(var t=0;t<e.subproperty.length;t++)e.subproperty[t]=o.get(e.subproperty[t]).iri;if(e.equivalent)for(var n=0;n<e.equivalent.length;n++)e.equivalent[n]=o.get(e.equivalent[n]).iri;e.inverse&&(e.inverse=o.get(e.inverse).iri)})),{resources:a,relations:i}},e.type="TYPE_VOWL_PARSER",e.resultingModelObject=null,e}return Object(d.a)(n,[{key:"_processData",value:function(e,t){this.__processResources(e,t),this.__processRelations(e,t),this.resultObject.resultingModel=e}},{key:"__processLabels",value:function(e,t){if(e.label)if("string"===typeof e.label)t.addAnnotation("rdfs:label",e.label);else for(var n in e.label)e.label.hasOwnProperty(n)&&"IRI-based"!==n&&t.addAnnotation("rdfs:label",e.label[n],n)}},{key:"__processComments",value:function(e,t){if(e.comment)if("string"===typeof e.comment)t.addAnnotation("rdfs:comment",e.comment);else for(var n in e.comment)e.comment.hasOwnProperty(n)&&"IRI-based"!==n&&t.addAnnotation("rdfs:comment",e.comment[n],n)}},{key:"__processResourceAxioms",value:function(e,t){e.equivalent&&e.equivalent.forEach((function(e){t.addAxiom(t,"owl:equivalentClass",e)})),e.superClasses&&e.superClasses.forEach((function(e){t.addAxiom(t,"rdfs:subClassOf",e)}))}},{key:"__processRelationAxioms",value:function(e,t){}},{key:"__processRelationAttributes",value:function(e,t){e.domain&&t.addDomain(e.domain),e.range&&t.addRange(e.range),e.domain&&e.range&&t.addDomainRangePair(e.domain,e.range)}},{key:"__processResources",value:function(e,t){var n=this;t.resources.forEach((function(t){t.iri?t.__resourceIdentifier=t.iri:t.__resourceIdentifier=t.type;var r=new he;r.resourceIdentifier(t.__resourceIdentifier),r._resourceURI=t.iri,r.addSemanticType(t.type),n.__processLabels(t,r),n.__processComments(t,r),n.__processResourceAxioms(t,r),e.addResource(r)}))}},{key:"__processRelations",value:function(e,t){var n=this;t.relations.forEach((function(t){if(t.iri?t.__resourceIdentifier=t.iri:t.__resourceIdentifier=t.type,"rdfs:SubClassOf"!==t.type){var r=new ye;r.resourceIdentifier(t.__resourceIdentifier),r._resourceURI=t.iri,r.addSemanticType(t.type),n.__processLabels(t,r),n.__processComments(t,r),n.__processRelationAxioms(t,r),n.__processRelationAttributes(t,r),e.addRelation(r)}}))}}]),n}(de),_e=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__run__=Object(ie.a)(ae.a.mark((function t(){var n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ue,r=e._preProcess(),e._processData(n,r);case 3:case"end":return t.stop()}}),t)}))),e._preProcess=function(){console.log("SPARQL PARSER PREPROCESS",e.inputDataAsJsonObject);var t=[],n=e.inputDataAsJsonObject,r=n.results.bindings,o=n.head.vars;return r.forEach((function(e){var n={};o.forEach((function(t){n[t]=e[t]})),t.push(n)})),e.allStatements=[].concat(e.allStatements,t),t},e.type="TYPE_SPARQL_PARSER",e.definitionMap={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"assertion","rdf:type":"assertion","http://www.w3.org/2000/01/rdf-schema#subClassOf":"axiom","http://www.w3.org/2000/01/rdf-schema#subPropertyOf":"axiom","http://www.w3.org/2002/07/owl#equivalentClass":"axiom","http://www.w3.org/2000/01/rdf-schema#comment":"annotation","http://www.w3.org/2000/01/rdf-schema#label":"annotation","http://www.w3.org/2000/01/rdf-schema#isDefinedBy":"annotation","owl:ObjectProperty":"relationalAssertion","owl:DatatypeProperty":"relationalAssertion"},e}return Object(d.a)(n,[{key:"_processData",value:function(e,t){var n=this;t.forEach((function(t,r){var o=t.subject,a=t.predicate,i=t.object,s=new he,d=new ye,l=new he;s.resourceIdentifier(o.value),n.validIRI(o.value)&&(s._resourceURI=o.value),d.resourceIdentifier(a.value),n.validIRI(a.value)&&(d._resourceURI=a.value),l.resourceIdentifier(i.value),n.validIRI(i.value)&&(l._resourceURI=i.value),"literal"===i.type&&l.addSemanticType("Literal");var c=!1,u=!1,p=!1;if("assertion"===n.definitionMap[a.value])return"relationalAssertion"!==n.definitionMap[i.value]?s.addSemanticType(i.value):(console.log("TODO: add sematic type to the relation"),p=!1),void e.addResource(s);switch(n.definitionMap[a.value]){case"axiom":s.addAxiom(o.value,a.value,i.value),u=!0;break;case"annotation":i["xml:lang"]?s.addAnnotation(a.value,i.value,i["xml:lang"]):s.addAnnotation(a.value,i.value),u=!0,p=!0;break;default:d.addDomain(o.value),d.addRange(i.value),d.addDomainRangePair(o.value,i.value),u=!0,c=!0}c||e.addResource(s),p||e.addRelation(d),u||e.addResource(l)})),this.resultObject.resultingModel=e}},{key:"validIRI",value:function(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)}}]),n}(de),we=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__isInMap__=function(e,t){return t?!!e[t]:(console.error("No Identifier Found in resource! give it unique ids as properties and set the resourceIdentifier name (setResourceIdentifier('ID'))"),!0)},e.__resourceIdentifier__=function(t){return t[e.__resourceIdentifier]},e.addVertex=function(t){e.__isInMap__(e.vertexeMap,e.__resourceIdentifier__(t))||e.__integrateVertexEdgeItem(e.modelAsJsonObject.vertices,e.vertexeMap,t)},e.addEdge=function(t){e.__isInMap__(e.edgeMap,e.__resourceIdentifier__(t))||e.__integrateVertexEdgeItem(e.modelAsJsonObject.edges,e.edgeMap,t)},e.__integrateVertexEdgeItem=function(t,n,r){t.push(r),n[e.__resourceIdentifier__(r)]=r},e.type="TYPE_VERTEX_EDGE_MODEL",e.modelAsJsonObject={vertices:[],edges:[]},e.vertexeMap={},e.edgeMap={},e.__resourceIdentifier="__vertexEdgeIdentifier",e}return Object(d.a)(n,[{key:"vertexInMap",value:function(e){return this.__isInMap__(this.vertexeMap,e)}},{key:"getVertexFromName",value:function(e){return this.vertexeMap[e]}}]),n}(ce),be=function e(){Object(s.a)(this,e),this.resourceReference=null},ke=function(){function e(){Object(s.a)(this,e),this.resourceReference=null,this.__outgoingEdges=[],this.__incomingEdges=[]}return Object(d.a)(e,[{key:"addOutgoingEdge",value:function(e){this.__outgoingEdges.push(e)}},{key:"addIncomingEdge",value:function(e){this.__incomingEdges.push(e)}}]),e}(),xe=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).setInputData=function(t){e.inputDataAsJsonObject=t,e.requestedInputType===t.resultingModel.type?e.hasCompatibleInput=!0:console.error("INPUT MODEL IS OF TYPE "+t.resultingModel.type+"EXPECTED: "+e.requestedInputType)},e.__run__=function(){e.hasCompatibleInput?e.__mapInputModel():(console.error("CANCELLED!"),e.resultObject.resultingModel=null)},e.__mapInputModel=function(){var t=e.inputDataAsJsonObject.resultingModel.getResult(),n=new we;n.setResourceIdentifier("__vertexEdgeIdentifier"),e.__mapResourcesToVertex(n,t.resources),e.__mapRelationsToEdge(n,t.relations),e.__adjustEdgeDisplayName(n.modelAsJsonObject.edges),e.resultObject.resultingModel=n},e._createVertexFromResource=function(t){var n=new ke;n.resourceReference=t;var r=e.definitionMap.vertexMapper;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(-1!==a.indexOf(".")){for(var i=a.split("."),s=t,d=0;d<i.length;d++)s=s[i[d]];n[o]=s}else n[o]=t[a]}return n},e._createEdgeFromRelation=function(t){var n=new be;n.resourceReference=t;var r=e.definitionMap.edgeMapper;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(-1!==a.indexOf(".")){for(var i=a.split("."),s=t,d=0;d<i.length;d++)s=s[i[d]];n[o]=s}else n[o]=t[a]}return n},e.type="TYPE_VERTEX_EDGE_MAPPER",e.requestedInputType="TYPE_RESOURCE_RELATION_MODEL",e.hasCompatibleInput=!1,e.definitionMap={vertexMapper:{__vertexType:"_semanticType",__vertexEdgeIdentifier:"__resourceIdentifier",__displayName:"_annotations.rdfs:label"},edgeMapper:{__edgeType:"_semanticType",__vertexEdgeIdentifier:"__resourceIdentifier",__displayName:"_annotations.rdfs:label",__domainRangePair:"domainRangePairs"}},e}return Object(d.a)(n,[{key:"__adjustEdgeDisplayName",value:function(e){e.forEach((function(e){e.__displayName||(e.__displayName=e.__vertexEdgeIdentifier)}))}},{key:"__mapResourcesToVertex",value:function(e,t){var n=this;t.forEach((function(t){var r=n._createVertexFromResource(t);e.addVertex(r)})),e.modelAsJsonObject.vertices.forEach((function(t){if(t.resourceReference._axioms&&Object.keys(t.resourceReference._axioms).length>0){var r=t.resourceReference._axioms,o=function(o){r.hasOwnProperty(o)&&r[o].forEach((function(r){e.vertexInMap(r)||console.error("VERTEX DOES NOT EXIST IN THE MAP: TODO CREATE ONE! ");var a=e.getVertexFromName(r),i=n.__createAxiomEdge(t,o,a);e.addEdge(i)}))};for(var a in r)o(a)}}))}},{key:"__createAxiomEdge",value:function(e,t,n){var r=new be;return r.resourceReference=t,r.__edgeType="axiomEdge",r.__edgeAxiom=t,r.__vertexEdgeIdentifier=e.__vertexEdgeIdentifier+"$$"+t+"$$"+n.__vertexEdgeIdentifier,r.__displayName=t,r.__source=e,r.__target=n,e.addOutgoingEdge(r),n.addIncomingEdge(r),r}},{key:"__mapRelationsToEdge",value:function(e,t){var n=this;t.forEach((function(t){for(var r=n._createEdgeFromRelation(t),o=0;o<r.__domainRangePair.length;o++){var a=n._createEdgeFromRelation(t),i=a.__domainRangePair[o].domain,s=a.__domainRangePair[o].range,d=e.getVertexFromName(i),l=e.getVertexFromName(s);if(d&&(a.__source=d,d.addOutgoingEdge(a)),l)a.__target=l,l.addOutgoingEdge(a);else if(e.getVertexFromName(a.__vertexEdgeIdentifier+"$$"+s)){var c=e.getVertexFromName(a.__vertexEdgeIdentifier+"$$"+s);a.__target=c,c.addIncomingEdge(r)}else{var u=new ke;u.resourceReference=s,pe(s)?u.__vertexEdgeIdentifier=s:(u.__vertexType="Literal",u.__vertexEdgeIdentifier=a.__vertexEdgeIdentifier+"$$"+s,u.__displayName=s),u.addIncomingEdge(a),e.addVertex(u),a.__target=u}if(e.edgeMap[a.__vertexEdgeIdentifier]){var p=new be,f=e.edgeMap[a.__vertexEdgeIdentifier];for(var h in f)f.hasOwnProperty(h)&&"__domainRangePair"!==h&&(p[h]=f[h]);p.__source=a.__source,p.__target=a.__target,p.__displayName||(p.__displayName=p.__vertexEdgeIdentifier),p.__vertexEdgeIdentifier+="$$ClonedEdge"+o,e.addEdge(p)}else e.addEdge(a)}}))}}]),n}(de),Ee=function(){function e(){Object(s.a)(this,e),this.resourceReference=null,this.__outgoingLinks=[],this.__incomingLinks=[],this.__nodeType=[],this.__aggregatedLink=[]}return Object(d.a)(e,[{key:"addAggregatedLink",value:function(e){this.__aggregatedLink.push(e)}},{key:"addOutgoingLink",value:function(e){this.__outgoingLinks.push(e)}},{key:"addIncomingLink",value:function(e){this.__incomingLinks.push(e)}},{key:"isNodeOfType",value:function(e){if(Array.isArray(this.__nodeType)){for(var t=0;t<this.__nodeType.length;t++)if(this.__nodeType[t]===e)return!0;return!1}return!(!this.__nodeType||this.__nodeType!==e)}}]),e}(),Oe=function e(){Object(s.a)(this,e),this.resourceReference=null},Re=function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,null,[{key:"IRI2Label",value:function(e,t){var n=t.split("#")[1],r="";if(n)r=t.split("#")[0],r+="#";else{var o=t.split("/");n=o[o.length-1];for(var a=0;a<o.length-1;a++)r+=o[a];r+="/"}var i=e[r];return i?i+":"+n:n}}]),e}();Re.textInLanguage=function(e,t){if("undefined"!==typeof e){if("string"===typeof e){if(pe(e)){var n=e.split("#")[1];if(!n){var r=e.split("/");n=r[r.length-1]}return n}return e}if(t&&e.hasOwnProperty(t))return e[t][0];var o=Re.searchLanguage(e,"en");return o||(o=Re.searchLanguage(e,"default"))?o[0]:null}},Re.searchLanguage=function(e,t){for(var n in e)if(n===t&&e.hasOwnProperty(n))return e[n]};var Se=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__isInMap__=function(e,t){return t?!!e[t]:(console.error("No Identifier Found in resource! give it unique ids as properties and set the resourceIdentifier name (setResourceIdentifier('ID'))"),!0)},e.__isEqual__=function(e,t){return!1},e.__resourceIdentifier__=function(t){return t[e.__resourceIdentifier]},e.addNode=function(t){e.__isInMap__(e.nodeMap,e.__resourceIdentifier__(t))||e.__integrateNodeLinkItem(e.modelAsJsonObject.nodes,e.nodeMap,t)},e.addLink=function(t){e.__isInMap__(e.linkMap,e.__resourceIdentifier__(t))||e.__integrateNodeLinkItem(e.modelAsJsonObject.links,e.linkMap,t)},e.__integrateNodeLinkItem=function(t,n,r){t.push(r),n[e.__resourceIdentifier__(r)]=r},e.type="TYPE_NODE_LINK_MODEL",e.modelAsJsonObject={nodes:[],links:[]},e.nodeMap={},e.linkMap={},e.__resourceIdentifier="__nodeLinkIdentifier",e}return Object(d.a)(n,[{key:"getNodeFromName",value:function(e){return this.nodeMap[e]}},{key:"mergeNodes",value:function(e,t){t.__SHADOWNODE=!0,e.__displayName+=", "+t.__displayName,e.__hasEquivalentClasses||(e.__hasEquivalentClasses=[]),e.__hasEquivalentClasses.push(t),t.__incomingLinks.forEach((function(e){e.__SHADOWLINK||(console.error("TODO MERGE THE LINKS TO THE SRC NODE"),console.log(e))})),t.__outgoingLinks.forEach((function(e){e.__SHADOWLINK||(console.error("TODO MERGE THE LINKS TO THE SRC NODE"),console.log(e))}))}},{key:"removeShadowsFromModel",value:function(){var e=this,t=[],n=[];this.modelAsJsonObject.nodes.forEach((function(n){n.__SHADOWNODE&&(t.push(n),delete e.nodeMap[n[e.__resourceIdentifier]])})),this.modelAsJsonObject.links.forEach((function(t){t.__SHADOWLINK&&(n.push(t),delete e.linkMap[t[e.__resourceIdentifier]])})),t.forEach((function(t){var n=e.modelAsJsonObject.nodes.indexOf(t);e.modelAsJsonObject.nodes.splice(n,1)})),n.forEach((function(t){var n=e.modelAsJsonObject.links.indexOf(t);e.modelAsJsonObject.links.splice(n,1)}))}}]),n}(ce),Ne=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).setInputData=function(t){e.inputDataAsJsonObject=t,e.requestedInputType===t.resultingModel.type?e.hasCompatibleInput=!0:console.error("INPUT MODEL IS OF TYPE "+t.resultingModel.type+"EXPECTED: "+e.requestedInputType)},e.__run__=function(){e.hasCompatibleInput?e.__mapInputModel():(console.error("CANCELLED!"),e.resultObject.resultingModel=null)},e.__mapInputModel=function(){var t=e.inputDataAsJsonObject.resultingModel.getResult(),n=new Se;n.setResourceIdentifier("__nodeLinkIdentifier"),e.__mapVerticesToNodes(n,t.vertices),e._mapEdgesToLinks(n,t.edges),e._mergeAndSplitNodes(n),e._introduceAuxiliaryNode(n),e._autoAssignLinkTypesBasedOnTarget(n.getResult().links),e.__aggregateLinks(n),e.resultObject.resultingModel=n},e._createNodeFromVertex=function(t){var n=new Ee;n.resourceReference=t;var r=e.definitionMap.nodeMapper;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(-1!==a.indexOf(".")){for(var i=a.split("."),s=t,d=0;d<i.length;d++)s=s[i[d]];n[o]=s}else n[o]=t[a]}return n},e._createLinkFromEdge=function(t){var n=new Oe;n.resourceReference=t;var r=e.definitionMap.linkMapper;for(var o in r)if(r.hasOwnProperty(o)&&"mapAxiom"!==o){var a=r[o];if(-1!==a.indexOf(".")){for(var i=a.split("."),s=t,d=0;d<i.length;d++)s=s[i[d]];n[o]=s}else n[o]=t[a]}return"axiomEdge"===n.__linkType&&(n.__linkType="axiomLink"),n.__displayName=Re.textInLanguage(n.__displayName),n},e.type="TYPE_VERTEX_EDGE_MAPPER",e.requestedInputType="TYPE_VERTEX_EDGE_MODEL",e.hasCompatibleInput=!1,e.prefixMapperL2S={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/2002/07/owl#":"owl","http://www.w3.org/2001/XMLSchema#":"xsd","http://purl.org/dc/elements/1.1/":"dc","http://www.w3.org/XML/1998/namespace":"xml","http://xmlns.com/wot/0.1/":"wot","http://www.w3.org/2003/06/sw-vocab-status/ns#":"vs","http://xmlns.com/foaf/0.1/":"foaf","http://www.w3.org/2004/02/skos/core#":"skos"},e.definitionMap={nodeMapper:{__nodeType:"__vertexType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName"},linkMapper:{__linkType:"__edgeType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName",__linkAxiom:"__edgeAxiom",__source:"__source",__target:"__target"},nodeMerge:[{}],nodeSplit:[{}],auxiliaryNodes:[]},e}return Object(d.a)(n,[{key:"__aggregateLinks",value:function(e){var t=this.definitionMap.aggregate;t&&t.length>0&&(e.getResult().links.forEach((function(e){var n=!1;Array.isArray(e.__linkType)&&e.__linkType.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),(n||-1!==t.indexOf(e.__linkType))&&(e.__source.addAggregatedLink(e),e.__target.__SHADOWNODE=!0,e.__SHADOWLINK=!0)})),e.removeShadowsFromModel())}},{key:"_auxApplies",value:function(e,t){for(var n=0;n<t.length;n++)for(var r in t[n])if(t[n].hasOwnProperty(r)&&"edgeType"===r){var o=e.__linkType,a=t[n][r];if("string"===typeof o){for(var i=0;i<a.length;i++)if(o.toLowerCase()===a[i].toLowerCase())return{auxLinks:t[n].auxiliaryLinks,auxNode:t[n].auxiliaryNode}}else for(var s=0;s<o.length;s++)for(var d=0;d<a.length;d++)if(o[s].toLowerCase()===a[d].toLowerCase())return{auxLinks:t[n].auxiliaryLinks,auxNode:t[n].auxiliaryNode}}return!1}},{key:"_introduceAuxiliaryNode",value:function(e){var t=this;if(this.definitionMap.auxiliaryNodes){var n=this.definitionMap.auxiliaryNodes;e.modelAsJsonObject.links.forEach((function(r){var o=t._auxApplies(r,n);if(!1!==o){r.__SHADOWLINK=!0;var a=new Ee;"__displayName"===o.auxNode[0]?a.__displayName=r.__displayName:a.__displayName=o.auxNode[0],a.__nodeType=[o.auxNode[1]],a.resourceReference=r;var i=new Oe,s=o.auxLinks.source;i.__displayName=s[0],i.__linkType=s[1],i.__source=a,i.__target=r.__source;var d=new Oe,l=o.auxLinks.target;d.__displayName=l[0],d.__linkType=l[1],d.__source=a,d.__target=r.__target,a.__nodeLinkIdentifier=r.__source.__nodeLinkIdentifier+"$$"+r.__nodeLinkIdentifier+"$$"+r.__target.__nodeLinkIdentifier+"$$_AUXNODE",i.__nodeLinkIdentifier=r.__source.__nodeLinkIdentifier+"$$"+r.__nodeLinkIdentifier+"$$"+r.__target.__nodeLinkIdentifier+"$$_AUXLINK1",d.__nodeLinkIdentifier=r.__source.__nodeLinkIdentifier+"$$"+r.__nodeLinkIdentifier+"$$"+r.__target.__nodeLinkIdentifier+"$$_AUXLINK2",e.addNode(a),e.addLink(i),e.addLink(d)}}))}e.removeShadowsFromModel()}},{key:"_mergeAndSplitNodes",value:function(e){this._mergeNodes(e),e.removeShadowsFromModel(),this._splitNodes(e),e.removeShadowsFromModel()}},{key:"_autoAssignLinkTypesBasedOnTarget",value:function(e){e.forEach((function(e){e.__target.__nodeType||(e.__target.__nodeType="Unknown NodeType"),"Literal"===e.__target.__nodeType||-1!==e.__target.__nodeType.indexOf("Literal")?e.__linkType="owl:datatypeProperty":e.__linkAxiom||e.__linkType&&0!==e.__linkType.length||(e.__linkType="owl:objectProperty")}))}},{key:"_splitNodes",value:function(e){var t=this,n=e.modelAsJsonObject.links,r=this.definitionMap.nodeSplit,o=[];n.forEach((function(e){t._splitAppliesOnTarget(e,r)&&o.push(e)}));var a=0;o.forEach((function(t){var n=t.__target;n.__SHADOWNODE=!0;var r=new Ee;for(var o in n)n.hasOwnProperty(o)&&"__outgoingLinks"!==o&&"__incomingLinks"!==o&&(r[o]=n[o]);r.__nodeLinkIdentifier=r.__nodeLinkIdentifier+"$$Clone"+a,r.__SHADOWNODE=!1,e.addNode(r),t.__target=r,a++}))}},{key:"_mergeNodes",value:function(e){var t=this,n=e.modelAsJsonObject.links,r=this.definitionMap.nodeMerge,o=[];n.forEach((function(e){t._mergeApplies(e,r)&&(e.__SHADOWLINK=!0,o.push(e))})),o.forEach((function(t){var n=t.__nodeLinkIdentifier.split("$$"),r=e.getNodeFromName(n[0]),o=e.getNodeFromName(n[2]);e.mergeNodes(r,o)}))}},{key:"_mergeApplies",value:function(e,t){var n=0,r=0,o=!1,a=!1;return t.forEach((function(t){for(var i in t)if(t.hasOwnProperty(i)){a=!0;var s=e[i],d=t[i];n++,s===d&&r++}if(a&&r===n)return o=!0})),o}},{key:"_splitAppliesOnTarget",value:function(e,t){var n=0,r=0,o=!1,a=!1;return t.forEach((function(t){for(var i in t)if(t.hasOwnProperty(i))if(a=!0,"constraints"===i&&"none"===t[i])n++,r++;else if("type"===i){for(var s=t[i],d=0;d<s.length;d++){var l=s[d];e.__target.isNodeOfType(l)&&r++}n++}if(a&&r===n)return o=!0})),o}},{key:"__mapVerticesToNodes",value:function(e,t){var n=this;t.forEach((function(t){var r=n._createNodeFromVertex(t),o=Re.textInLanguage(r.__displayName);null!==o&&void 0!==o||(pe(t.__vertexEdgeIdentifier)?o=Re.IRI2Label(n.prefixMapperL2S,t.__vertexEdgeIdentifier):console.error("COULD NOT FIND A LABEL FOR VERTEX: "+t.__vertexEdgeIdentifier)),r.__displayName=o,e.addNode(r)}))}},{key:"_mapEdgesToLinks",value:function(e,t){var n=this;t.forEach((function(t){var r=n._createLinkFromEdge(t),o=e.getNodeFromName(t.__source.__vertexEdgeIdentifier),a=e.getNodeFromName(t.__target.__vertexEdgeIdentifier);o&&(r.__source=o,o.addOutgoingLink(r)),a&&(r.__target=a,a.addIncomingLink(r)),e.addLink(r)}))}}]),n}(de),Ce=n(22),Le=n(131),Te=n(132),Ie=n(133),De=n(134),Pe=n(135),Me=n(137),je=n(138),Ae=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).componentDidUpdate=function(){},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,"Hello")}}]),n}(r.Component),He=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){r.props.propagateState(r.state)},r.handleCheckChange=function(e){r.setState((function(t){return Object(G.a)({},e,!t[e])}))},r.renderGraphInteractionsConfig=function(){return o.a.createElement("div",{style:{padding:"5px",marginLeft:"10px"}},o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.graph_mouseZoom,onChange:function(){r.handleCheckChange("graph_mouseZoom")}})," ","Mouse Zoom")),o.a.createElement(Le.a,{check:!0,style:{paddingLeft:"40px"}},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",disabled:!0,checked:r.state.graph_mouseZoom,onChange:function(){r.handleCheckChange("graph_mouseZoom")}}),"Graph Double Click == Zoom")),o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.graph_mouseDrag,onChange:function(){r.handleCheckChange("graph_mouseDrag")}})," ","Mouse Drag")))},r.renderNodeInteractionsConfig=function(){return o.a.createElement("div",{style:{padding:"5px",marginLeft:"10px"}},o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.node_mouseDrag,onChange:function(){r.handleCheckChange("node_mouseDrag")}})," ","Node Drag")),o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.node_mouseHover,onChange:function(){r.handleCheckChange("node_mouseHover")}}),"Node Hover")),o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.node_mouseSingleClick,onChange:function(){r.handleCheckChange("node_mouseSingleClick")}})," ","Node Single Mouse Click")),o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.node_mouseDoubleClick,onChange:function(){r.handleCheckChange("node_mouseDoubleClick")}}),"Node Double Mouse Click")))},r.renderLinkInteractionsConfig=function(){return o.a.createElement("div",{style:{padding:"5px",marginLeft:"10px"}},o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.link_mouseDrag,onChange:function(){r.handleCheckChange("link_mouseDrag")}}),"Link Drag")),o.a.createElement(Le.a,{check:!0},o.a.createElement(Te.a,{check:!0},o.a.createElement(Ie.a,{type:"checkbox",checked:r.state.link_mouseHover,onChange:function(){r.handleCheckChange("link_mouseHover")}}),"Link Hover")))},r.createVisualAppearanceConfigDropDowns=function(){var e=r.availableConfigs.map((function(e,t){return o.a.createElement(De.a,{key:"dropdownItemIndexKey"+t,onClick:function(){r.setState({configSelected:e})}},e)}));return o.a.createElement(Pe.a,{color:"darkblue",size:"sm",style:{marginLeft:"10px",flexGrow:"1",display:"flex",height:"min-content",paddingTop:"-5px"},isOpen:r.state.configSelectionOpen,toggle:function(){r.setState({configSelectionOpen:!r.state.configSelectionOpen})}},o.a.createElement(Me.a,{caret:!0,color:"darkblue",style:{padding:"0px",paddingLeft:"3px",border:"solid 1px black"}},r.state.configSelected),o.a.createElement(je.a,null,e))},r.state={graph_mouseZoom:!0,graph_mouseDrag:!0,node_mouseDrag:!0,node_mouseHover:!0,node_mouseSingleClick:!0,node_mouseDoubleClick:!0,link_mouseDrag:!0,link_mouseHover:!0,graphBgColor:"#FFFFFF",configSelectionOpen:!1,configSelected:"Default"},r.availableConfigs=I.availableRenderingConfigs,r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState(Object(Ce.a)({},this.props.initialState))}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{width:"100%",display:"flex",marginLeft:"10px",paddingLeft:"30px"}},o.a.createElement("div",{style:{border:"solid 1px grey",width:"30%"}},o.a.createElement("h2",null," Graph Interactions: "),this.renderGraphInteractionsConfig()),o.a.createElement("div",{style:{border:"solid 1px grey",width:"30%"}},o.a.createElement("h2",null," Node Interactions: "),this.renderNodeInteractionsConfig()),o.a.createElement("div",{style:{border:"solid 1px grey",width:"30%"}},o.a.createElement("h2",null," Link Interactions: "),this.renderLinkInteractionsConfig())),o.a.createElement("hr",null),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{width:"100%",marginLeft:"10px"}},o.a.createElement("h2",null," Visualization Configuration "),o.a.createElement("div",{style:{}},o.a.createElement("div",null,"Layout: ForceDirected Active ","<<<"," ",o.a.createElement("b",null," NOT CONFIGURABLE IN DEMO")),o.a.createElement("div",{style:{display:"flex"}},"Graph Background Color:",o.a.createElement(Ie.a,{type:"color",style:{width:"40px",marginLeft:"5px",padding:"2px",height:"25px"},value:this.state.graphBgColor,onChange:function(t){e.setState({graphBgColor:t.target.value})}})))),o.a.createElement("div",{style:{width:"100%",marginLeft:"10px"}},o.a.createElement("h2",null," Visual Appearance"),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",null,"Visual Appearance Config"),this.createVisualAppearanceConfigDropDowns()))),o.a.createElement("hr",null),o.a.createElement("div",{style:{display:"flex"}},this.props.nodeLinkModel?o.a.createElement("div",null,"Adjusting the item configs"," ","Customizable"!==this.state.configSelected?o.a.createElement("b",null," READ ONLY "):"",o.a.createElement(Ae,{nodeLinkModel:this.props.nodeLinkModel,readOnly:"Customizable"!==this.state.configSelected})):o.a.createElement("div",null,"Please execute the pipeline modules to enable dynamic customizations")))}}]),n}(r.Component),Fe=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{updateRenderingModuleConfiguration:function(t){return e(M(t))}}}))(He),We=n(18),ze=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getResult=function(){return e.dataHandlerObject.theData},e.execute=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__run__();case 2:case"end":return t.stop()}}),t)}))),e.__run__=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dataHandlerObject={},t.next=3,e.executePromisedQuery(e.query);case 3:e.dataHandlerObject.theData=t.sent;case 4:case"end":return t.stop()}}),t)}))),e.setQuery=function(t){e.query=t},e.setGraph=function(t){e.dbPediaGraph=t},e.setDBPediaURL=function(t){e.dbPediaURL=t},e.executePromisedQuery=function(){var t=Object(ie.a)(ae.a.mark((function t(n){var r,o,a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(We.a)(e),o="",a=new Promise((function(e){var t=r.dbPediaURL+"?default-graph-uri="+encodeURIComponent(r.dbPediaGraph)+"&query="+encodeURIComponent(n)+r.suffix;fe(t).then((function(t){o=t,e()}))})),t.next=5,a;case 5:return t.abrupt("return",JSON.parse(o));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resultingDataObject=null,e.type="TYPE_DBPEDIA_PROXY",e.dbPediaURL="https://live.dbpedia.org/sparql/",e.dbPediaGraph="http://dbpedia.org",e.suffix="&format=application%2Fsparql-results%2Bjson&CXML_redir_for_subjs=121&CXML_redir_for_hrefs=&timeout=30000&debug=on&run=+Run+Query+",e.exampleQuery="select ?subject ?predicate ?object where { ?subject ?predicate ?object} Limit 10",e.teslaExample='PREFIX dbr: <http://dbpedia.org/resource/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\nselect distinct ?subject ?predicate ?object where { \n{dbr:Nikola_Tesla ?predicate ?object.\n?object a owl:Class} \nUNION {\ndbr:Nikola_Tesla dbo:birthDate ?object.\nBIND(dbo:birthDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla dbo:deathDate ?object.\nBIND(dbo:deathDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:label ?object.\nBIND(rdfs:label as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:comment ?object.\nBIND(rdfs:comment as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla ?foafPredicate ?object.\nFILTER(STRSTARTS(STR(?foafPredicate), "http://xmlns.com/foaf/0.1/"))\nBIND(?foafPredicate as ?predicate)\n}\nFILTER(!isLiteral(?object) ||langMatches(lang(?object),"EN") || datatype(?object)=xsd:date)\nBIND(dbr:Nikola_Tesla as ?subject)}\nLimit 100',e.query=e.teslaExample,e}return n}(de),Be=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){r.props.statePropagation(r.state)},r.handleInputChange=function(e,t){var n=t.target.value;r.setState(Object(G.a)({},e,n))},r.executeQuery=function(){var e=new ze;e.setGraph(r.state.graphURL),e.setDBPediaURL(r.state.endpointURL),e.setQuery(r.state.query),e.executePromisedQuery(r.state.query).then((function(e){r.setState({queryResult:e})}))},r.state={endpointURL:"https://live.dbpedia.org/sparql/",graphURL:"http://dbpedia.org",query:'PREFIX dbr: <http://dbpedia.org/resource/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT  DISTINCT ?subject ?predicate ?object WHERE { \n{dbr:Nikola_Tesla ?predicate ?object.\n?object a owl:Class} \nUNION {\ndbr:Nikola_Tesla dbo:birthDate ?object.\nBIND(dbo:birthDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla dbo:deathDate ?object.\nBIND(dbo:deathDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:label ?object.\nBIND(rdfs:label as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:comment ?object.\nBIND(rdfs:comment as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla ?foafPredicate ?object.\nFILTER(STRSTARTS(STR(?foafPredicate), "http://xmlns.com/foaf/0.1/"))\nBIND(?foafPredicate as ?predicate)\n}\nFILTER(!isLiteral(?object) ||langMatches(lang(?object),"EN") || datatype(?object)=xsd:date)\nBIND(dbr:Nikola_Tesla as ?subject)}\nLimit 100',queryResult:void 0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{padding:"10px",display:"flex"}},o.a.createElement("div",null,o.a.createElement("div",null,"Configure Data AccessHandler for DBPedia"),o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(Le.a,null,o.a.createElement(Te.a,{style:{display:"ruby"}},o.a.createElement("b",null,"EndPoint URL:"),o.a.createElement(Ie.a,{type:"text",onChange:function(t){e.handleInputChange("endpointURL",t)},value:this.state.endpointURL}))),o.a.createElement(Le.a,null,o.a.createElement(Te.a,{style:{display:"ruby"}},o.a.createElement("b",null,"Graph URL:"),o.a.createElement(Ie.a,{type:"text",onChange:function(t){e.handleInputChange("graphURL",t)},value:this.state.graphURL}))),o.a.createElement("div",null,o.a.createElement("b",null," QUERY: ")," ",o.a.createElement("br",null),o.a.createElement("b",null," ",o.a.createElement("i",null,"*Note*")," ")," ","The select clause requires ?subject ?predicate ?object as variable selection ",o.a.createElement("br",null),"This is due to how the SPARQL results are parsed and transformed into a Resource Relation Model",o.a.createElement("textarea",{type:"text",rows:"10",cols:"50",style:{width:"100%",height:"100%"},value:this.state.query,onChange:function(t){e.setState({query:t.target.value})}})))),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(T.a,{onClick:function(){e.executeQuery()}},"Test Query"),o.a.createElement("br",null),"Result",o.a.createElement("textarea",{rows:"10",cols:"50",style:{width:"100%",height:"100%"},value:JSON.stringify(this.state.queryResult,null,"\t")})))}}]),n}(r.Component),Ve=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{}}))(Be),Ue=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getResult=function(){return e.dataHandlerObject.theData},e.execute=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__run__();case 2:case"end":return t.stop()}}),t)}))),e.__run__=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dataHandlerObject={},t.next=3,e.executePromisedQuery(e.query);case 3:e.dataHandlerObject.theData=t.sent;case 4:case"end":return t.stop()}}),t)}))),e.setQuery=function(t){e.query=t},e.setEndPointURL=function(t){e.wikiDataEndpointURL=t},e.executePromisedQuery=function(){var t=Object(ie.a)(ae.a.mark((function t(n){var r,o,a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(We.a)(e),o="",a=new Promise((function(e){var t=r.wikiDataEndpointURL+"sparql?query="+encodeURIComponent(n)+r.suffix;fe(t).then((function(t){o=t,e()}))})),t.next=5,a;case 5:return t.abrupt("return",JSON.parse(o));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.resultingDataObject=null,e.type="WIKI_DATA_LOADER",e.wikiDataEndpointURL="https://query.wikidata.org/",e.suffix="&format=json",e.exampleQuery='SELECT ?h ?hLabel ?cause ?causeLabel (YEAR(?date) AS ?year) WHERE {\n?h wdt:P39 wd:Q11696;\n   wdt:P509 ?cause;\n   wdt:P570 ?date\nSERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }\n} ORDER BY ?year',e.query=e.exampleQuery,e}return n}(de),Ge=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){r.props.statePropagation(r.state)},r.handleInputChange=function(e,t){var n=t.target.value;r.setState(Object(G.a)({},e,n))},r.executeQuery=function(){var e=new Ue;e.setEndPointURL(r.state.endpointURL),e.setQuery(r.state.query),e.executePromisedQuery(r.state.query).then((function(e){r.setState({queryResult:e})}))},r.state={endpointURL:"https://query.wikidata.org/",query:'SELECT ?h ?hLabel ?cause ?causeLabel (YEAR(?date) AS ?year) WHERE {\n?h wdt:P39 wd:Q11696;\n   wdt:P509 ?cause;\n   wdt:P570 ?date\nSERVICE wikibase:label { bd:serviceParam wikibase:language "[AUTO_LANGUAGE],en". }\n} ORDER BY ?year',queryResult:void 0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{padding:"10px",display:"flex"}},o.a.createElement("div",null,o.a.createElement("div",null,"Configure Data AccessHandler for DBPedia"),o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(Le.a,null,o.a.createElement(Te.a,{style:{display:"ruby"}},o.a.createElement("b",null,"EndPoint URL:"),o.a.createElement(Ie.a,{type:"text",onChange:function(t){e.handleInputChange("endpointURL",t)},value:this.state.endpointURL}))),o.a.createElement("div",null,o.a.createElement("b",null," QUERY: ")," ",o.a.createElement("br",null),o.a.createElement("b",null,o.a.createElement("i",null,"*Note*")),"This is an example query that also has a ",o.a.createElement("b",null,"SPECIFIC")," parser for the variable names selection .",o.a.createElement("textarea",{rows:"10",cols:"50",style:{width:"100%",height:"100%"},value:this.state.query,onChange:function(t){e.setState({query:t.target.value})}})))),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(T.a,{onClick:function(){e.executeQuery()}},"Test Query"),o.a.createElement("br",null),"Result",o.a.createElement("textarea",{rows:"10",cols:"50",style:{width:"100%",height:"100%"},value:JSON.stringify(this.state.queryResult,null,"\t")})))}}]),n}(r.Component),qe=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{}}))(Ge),Je=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).type="TYPE_VERTEX_EDGE_MAPPER",e.requestedInputType="TYPE_VERTEX_EDGE_MODEL",e.hasCompatibleInput=!1,e.prefixMapperL2S={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/2002/07/owl#":"owl","http://www.w3.org/2001/XMLSchema#":"xsd","http://purl.org/dc/elements/1.1/":"dc","http://www.w3.org/XML/1998/namespace":"xml","http://xmlns.com/wot/0.1/":"wot","http://www.w3.org/2003/06/sw-vocab-status/ns#":"vs","http://xmlns.com/foaf/0.1/":"foaf","http://www.w3.org/2004/02/skos/core#":"skos"},e.definitionMap={nodeMapper:{__nodeType:"__vertexType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName"},linkMapper:{__linkType:"__edgeType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName",__linkAxiom:"__edgeAxiom",__source:"__source",__target:"__target"},nodeMerge:[{}],nodeSplit:[{}],auxiliaryNodes:[{edgeType:["owl:ObjectProperty"],auxiliaryLinks:{source:["domain","auxLink"],target:["range","auxLink"]},auxiliaryNode:["__displayName","auxForObjectProperties"]},{edgeType:["owl:DatatypeProperty"],auxiliaryLinks:{source:["domain","auxLink"],target:["range","auxLink"]},auxiliaryNode:["__displayName","auxForDataTypeProperties"]}]},e}return n}(Ne),Xe=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__run__=Object(ie.a)(ae.a.mark((function t(){var n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ue,r=e._preProcess(),e._processData(n,r);case 3:case"end":return t.stop()}}),t)}))),e._preProcess=function(){console.log("WIKIDATA PREPROCESSING SPARQL PARSER PREPROCESS",e.inputDataAsJsonObject);var t=[],n=e.inputDataAsJsonObject.results.bindings;return n.forEach((function(e){var n={};n.subject=e.h,n.predicate={type:"uri",value:"http://www.w3.org/2000/01/rdf-schema#label"},n.object=e.hLabel;var r={};r.subject=e.h,r.predicate={type:"uri",value:"http://example.org/causeOfDeath"},r.object=e.cause;var o={};o.subject=e.cause,o.predicate={type:"uri",value:"http://www.w3.org/2000/01/rdf-schema#label"},o.object=e.causeLabel;var a={};a.subject=e.h,a.predicate={type:"uri",value:"http://example.org/deathYear"},a.object=e.year,t.push(n),t.push(r),t.push(o),t.push(a)})),e.allStatements=[].concat(e.allStatements,t),t},e.type="TYPE_SPARQL_PARSER",e.definitionMap={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"assertion","rdf:type":"assertion","http://www.w3.org/2000/01/rdf-schema#subClassOf":"axiom","http://www.w3.org/2000/01/rdf-schema#subPropertyOf":"axiom","http://www.w3.org/2002/07/owl#equivalentClass":"axiom","http://www.w3.org/2000/01/rdf-schema#comment":"annotation","http://www.w3.org/2000/01/rdf-schema#label":"annotation","http://www.w3.org/2000/01/rdf-schema#isDefinedBy":"annotation","owl:ObjectProperty":"relationalAssertion","owl:DatatypeProperty":"relationalAssertion"},e}return Object(d.a)(n,[{key:"_processData",value:function(e,t){var n=this;t.forEach((function(t,r){var o=t.subject,a=t.predicate,i=t.object,s=new he,d=new ye,l=new he;s.resourceIdentifier(o.value),n.validIRI(o.value)&&(s._resourceURI=o.value),d.resourceIdentifier(a.value),n.validIRI(a.value)&&(d._resourceURI=a.value),l.resourceIdentifier(i.value),n.validIRI(i.value)&&(l._resourceURI=i.value);var c=!1,u=!1,p=!1;if("assertion"===n.definitionMap[a.value])return"relationalAssertion"!==n.definitionMap[i.value]?s.addSemanticType(i.value):console.log("TODO: add sematic type to the relation"),void e.addResource(s);switch(n.definitionMap[a.value]){case"axiom":s.addAxiom(o.value,a.value,i.value),u=!0;break;case"annotation":i["xml:lang"]?s.addAnnotation(a.value,i.value,i["xml:lang"]):s.addAnnotation(a.value,i.value),u=!0,p=!0;break;default:d.addDomain(o.value),d.addRange(i.value),d.addDomainRangePair(o.value,i.value),u=!0,c=!0}c||e.addResource(s),p||e.addRelation(d),u||e.addResource(l)})),this.resultObject.resultingModel=e}},{key:"validIRI",value:function(e){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(e)}}]),n}(de),Ye=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getResult=function(){return e.dataHandlerObject.theData},e.execute=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.__run__();case 2:case"end":return t.stop()}}),t)}))),e.__run__=Object(ie.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dataHandlerObject={},t.next=3,e.executePromisedQuery(e.query);case 3:e.dataHandlerObject.theData=t.sent;case 4:case"end":return t.stop()}}),t)}))),e.setRequestResourceId=function(t){e.requestResourceId=t},e.setEndPointURL=function(t){e.endpointURL=t},e.executePromisedQuery=Object(ie.a)(ae.a.mark((function t(){var n,r,o;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(We.a)(e),r="",o=new Promise((function(e){var t=n.endpointURL+n.requestParameters+n.requestResourceId+n.suffix;fe(t).then((function(t){r=t,e()}))})),t.next=5,o;case 5:return t.abrupt("return",JSON.parse(r));case 6:case"end":return t.stop()}}),t)}))),e.resultingDataObject=null,e.type="ORKG_DATA_LOADER",e.endpointURL="https://www.orkg.org/orkg/",e.requestParameters="api/statements/subject/",e.requestResourceId="R8186",e.suffix="/?desc=true&items=9999&page=1&sortBy=created_at",e}return n}(de),$e=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(){r.props.statePropagation(r.state)},r.handleInputChange=function(e,t){var n=t.target.value;r.setState(Object(G.a)({},e,n))},r.executeQuery=function(){var e=new Ye;e.setEndPointURL(r.state.endpointURL),e.setRequestResourceId(r.state.requestResourceId),e.executePromisedQuery(r.state.query).then((function(e){r.setState({queryResult:e})}))},r.state={endpointURL:"https://www.orkg.org/orkg/",requestParameters:"api/statements/subject/",requestResourceId:"R8186",suffix:"/?desc=true&items=9999&page=1&sortBy=created_at",queryResult:void 0},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{padding:"10px",display:"flex"}},o.a.createElement("div",null,o.a.createElement("div",null,"Configure Data AccessHandler for DBPedia"),o.a.createElement("div",{style:{width:"50%"}},o.a.createElement(Le.a,null,o.a.createElement(Te.a,{style:{display:"ruby"}},o.a.createElement("b",null,"EndPoint URL:"),o.a.createElement(Ie.a,{type:"text",onChange:function(t){e.handleInputChange("endpointURL",t)},value:this.state.endpointURL}))),o.a.createElement(Le.a,null,o.a.createElement(Te.a,{style:{display:"ruby"}},o.a.createElement("b",null,"Paper Resource Id:"),o.a.createElement(Ie.a,{type:"text",onChange:function(t){e.handleInputChange("requestResourceId",t)},value:this.state.requestResourceId}))))),o.a.createElement("div",{style:{width:"40%"}},o.a.createElement(T.a,{onClick:function(){e.executeQuery()}},"Test Query"),o.a.createElement("br",null),"Result",o.a.createElement("textarea",{rows:"10",cols:"50",style:{width:"100%",height:"100%"},value:JSON.stringify(this.state.queryResult,null,"\t")})))}}]),n}(r.Component),Ke=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{}}))($e),Qe=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).__run__=Object(ie.a)(ae.a.mark((function t(){var n,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ue,r=e._preProcess(),e._processData(n,r);case 3:case"end":return t.stop()}}),t)}))),e._preProcess=function(){return e.inputDataAsJsonObject},e.type="ORKGParser",e.definitionMap={"http://www.w3.org/1999/02/22-rdf-syntax-ns#type":"assertion","rdf:type":"assertion","http://www.w3.org/2000/01/rdf-schema#subClassOf":"axiom","http://www.w3.org/2000/01/rdf-schema#subPropertyOf":"axiom","http://www.w3.org/2002/07/owl#equivalentClass":"axiom","http://www.w3.org/2000/01/rdf-schema#comment":"annotation","http://www.w3.org/2000/01/rdf-schema#label":"annotation","http://www.w3.org/2000/01/rdf-schema#isDefinedBy":"annotation","owl:ObjectProperty":"relationalAssertion","owl:DatatypeProperty":"relationalAssertion"},e}return Object(d.a)(n,[{key:"_processData",value:function(e,t){t.forEach((function(t){var n=new he;n.resourceIdentifier(t.subject.id),n.addSemanticType("Resource"),n.addAnnotation("http://www.w3.org/2000/01/rdf-schema#label",t.subject.label);var r=new he;r.resourceIdentifier(t.object.id),"literal"===t.object._class?r.addSemanticType("Literal"):r.addSemanticType("Resource"),r.addAnnotation("http://www.w3.org/2000/01/rdf-schema#label",t.object.label);var o=new ye;o.resourceIdentifier(t.predicate.id),o.addSemanticType("Property"),o.addAnnotation("http://www.w3.org/2000/01/rdf-schema#label",t.predicate.label),o.addDomain(t.object.id),o.addRange(t.object.id),o.addDomainRangePair(t.subject.id,t.object.id),e.addResource(n),e.addRelation(o),e.addResource(r)})),this.resultObject.resultingModel=e}}]),n}(de),Ze=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).type="TYPE_VERTEX_EDGE_MAPPER",e.requestedInputType="TYPE_VERTEX_EDGE_MODEL",e.hasCompatibleInput=!1,e.prefixMapperL2S={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/2002/07/owl#":"owl","http://www.w3.org/2001/XMLSchema#":"xsd","http://purl.org/dc/elements/1.1/":"dc","http://www.w3.org/XML/1998/namespace":"xml","http://xmlns.com/wot/0.1/":"wot","http://www.w3.org/2003/06/sw-vocab-status/ns#":"vs","http://xmlns.com/foaf/0.1/":"foaf","http://www.w3.org/2004/02/skos/core#":"skos"},e.definitionMap={nodeMapper:{__nodeType:"__vertexType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName"},linkMapper:{__linkType:"__edgeType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName",__linkAxiom:"__edgeAxiom",__source:"__source",__target:"__target"},nodeMerge:[{}],nodeSplit:[{}],aggregate:["owl:datatypeProperty"],auxiliaryNodes:[]},e}return n}(Ne),et=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).type="TYPE_VERTEX_EDGE_MAPPER",e.requestedInputType="TYPE_VERTEX_EDGE_MODEL",e.hasCompatibleInput=!1,e.prefixMapperL2S={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/2002/07/owl#":"owl","http://www.w3.org/2001/XMLSchema#":"xsd","http://purl.org/dc/elements/1.1/":"dc","http://www.w3.org/XML/1998/namespace":"xml","http://xmlns.com/wot/0.1/":"wot","http://www.w3.org/2003/06/sw-vocab-status/ns#":"vs","http://xmlns.com/foaf/0.1/":"foaf","http://www.w3.org/2004/02/skos/core#":"skos"},e.definitionMap={nodeMapper:{__nodeType:"__vertexType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName"},linkMapper:{__linkType:"__edgeType",__nodeLinkIdentifier:"__vertexEdgeIdentifier",__displayName:"__displayName",__linkAxiom:"__edgeAxiom",__source:"__source",__target:"__target"},nodeMerge:[{__linkType:"axiomLink",__displayName:"owl:equivalentClass"}],nodeSplit:[{constraints:"none",type:["rdfs:Literal"]}],auxiliaryNodes:[]},e}return n}(Ne),tt=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(e){e.store.selectedDataSource!==r.props.store.selectedDataSource&&(r.props.createPreviewVisualization(!1),r.setState({dataAccessHandlerExecuted:!1,resourceRelationModel:void 0,vertexEdgeMapperExecuted:!1,vertexEdgeModel:void 0})),e.store.selectedNodeLinkMapper!==r.props.store.selectedNodeLinkMapper&&(r.props.createPreviewVisualization(!1),r.setState({nodeLinkMapperExecuted:!1,nodeLinkModel:void 0}))},r.exportPipeline=function(){new Q(r.props.store).execute()},r.propagate_DBPEdiaConfiguratorState=function(e){r.dataAccessHandler_DBPediaState=e},r.propagateState=function(e){r.childState=e,r.props.store.createPreviewVisualization&&r.props.createPreviewVisualization(!1)},r.configureNodeLinkMapper=function(e){r.setState({showModal:!0,selectedModule:"Node Link Mapper",selectionType:"configure"})},r.executeNodeLinkMapper=function(e){if("Basic Mapper"===e&&r.state.vertexEdgeModel&&(r.basicNodeLinkMapper.setInputData(r.state.vertexEdgeModel),r.basicNodeLinkMapper.execute().then((function(){var e=r.basicNodeLinkMapper.getResult();r.setState({nodeLinkMapperExecuted:!0,nodeLinkModel:e})}))),"VOWL"===e&&r.state.vertexEdgeModel){var t=new et;t.setInputData(r.state.vertexEdgeModel),t.execute().then((function(){var e=t.getResult();r.setState({nodeLinkMapperExecuted:!0,nodeLinkModel:e})}))}if("RDF"===e&&r.state.vertexEdgeModel){var n=new Je;n.setInputData(r.state.vertexEdgeModel),n.execute().then((function(){var e=n.getResult();r.setState({nodeLinkMapperExecuted:!0,nodeLinkModel:e})}))}if("UML"===e&&r.state.vertexEdgeModel){var o=new Ze;o.setInputData(r.state.vertexEdgeModel),o.execute().then((function(){var e=o.getResult();r.setState({nodeLinkMapperExecuted:!0,nodeLinkModel:e})}))}},r.viewNodeLinkMapperOutput=function(e){r.setState({showModal:!0,selectedModule:"Node Link Mapper",selectionType:"viewOutput"})},r.configureVertexEdgeMapper=function(e){r.setState({showModal:!0,selectedModule:"Vertex Edge Mapper",selectionType:"configure"})},r.executeVertexEdgeMapper=function(e){"Basic Mapper"===e&&r.state.resourceRelationModel&&(r.basicVertexEdgeMapper.setInputData(r.state.resourceRelationModel),r.basicVertexEdgeMapper.execute().then((function(){var e=r.basicVertexEdgeMapper.getResult();r.setState({vertexEdgeMapperExecuted:!0,vertexEdgeModel:e})})))},r.viewVertexEdgeMapperOutput=function(e){r.setState({showModal:!0,selectedModule:"Vertex Edge Mapper",selectionType:"viewOutput"})},r.configureDataAccessHandler=function(e){r.setState({showModal:!0,selectedModule:"Data Access Handler",selectionType:"configure"})},r.viewDataAccessHandlerOutput=function(e){r.setState({showModal:!0,selectedModule:"Data Access Handler",selectionType:"viewOutput"})},r.executeDataAccessHandler=function(e){var t=void 0,n=void 0;switch(e){case"Ontology File":t=new le,n=new ve;break;case"DBPedia":t=new ze,n=new _e;break;case"WikiData":t=new Ue,n=new Xe;break;case"ORKG":t=new Ye,n=new Qe;break;default:return void console.log("UNKNOWN EXECUTION MODULE NAME")}console.log(t),t.execute().then((function(){n.setInputData(t.getResult()),n.execute().then((function(){var e=n.getResult();r.setState({dataAccessHandlerExecuted:!0,resourceRelationModel:e})}))}))},r.executeRenderingModule=function(){r.props.createPreviewVisualization(!0),r.childState.hasOwnProperty("graph_mouseZoom")&&r.props.updateRenderingModuleConfiguration(r.childState)},r.configureRenderingModule=function(){r.setState({showModal:!0,selectedModule:"Rendering Module",selectionType:"configure"})},r.renderDataAccessHandler=function(){var e=r.props.store.selectedDataSource;return o.a.createElement(L,{title:"Data Access Handler ",position:"left",width:330,collapsable:!1},e,o.a.createElement("hr",{style:{margin:"1px"}}),o.a.createElement("div",{style:{textAlign:"left",display:"inline"}},o.a.createElement(T.a,{style:{padding:"2px",margin:"5px"},onClick:function(){r.configureDataAccessHandler(e)}},"Configure"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.dataAccessHandlerExecuted?"#2f7d38":"#6c757d"},onClick:function(){r.executeDataAccessHandler(e)}},"Execute"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.resourceRelationModel?"#2f7d38":"#6c757d"},onClick:function(){r.viewDataAccessHandlerOutput(e)}},"View Output")))},r.renderVertexEdgeMapper=function(){var e=r.props.store.selectedVertexEdgeMapper;return o.a.createElement(L,{title:"Vertex Edge Mapper",position:"left",width:320,collapsable:!1},e,o.a.createElement("hr",{style:{margin:"1px"}}),o.a.createElement("div",{style:{textAlign:"left",display:"inline"}},o.a.createElement(T.a,{style:{padding:"2px",margin:"5px"},onClick:function(){r.configureVertexEdgeMapper(e)}},"Configure"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.vertexEdgeMapperExecuted?"#2f7d38":"#6c757d"},onClick:function(){r.executeVertexEdgeMapper(e)}},"Execute"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.vertexEdgeModel?"#2f7d38":"#6c757d"},onClick:function(){r.viewVertexEdgeMapperOutput(e)}},"View Output")))},r.renderNodeLinkMapper=function(){var e=r.props.store.selectedNodeLinkMapper;return o.a.createElement(L,{title:"Node Link Mapper",position:"left",width:320,collapsable:!1},e,o.a.createElement("hr",{style:{margin:"1px"}}),o.a.createElement("div",{style:{textAlign:"left",display:"inline"}},o.a.createElement(T.a,{style:{padding:"2px",margin:"5px"},onClick:function(){r.configureNodeLinkMapper(e)}},"Configure"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.nodeLinkMapperExecuted?"#2f7d38":"#6c757d"},onClick:function(){r.executeNodeLinkMapper(e)}},"Execute"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px",backgroundColor:r.state.nodeLinkModel?"#2f7d38":"#6c757d"},onClick:function(){r.viewNodeLinkMapperOutput(e)}},"View Output")))},r.renderRenderingModule=function(){var e="Rendering ModuleTest";return o.a.createElement(L,{title:"Rendering Module",position:"left",width:320,collapsable:!1},e,o.a.createElement("hr",{style:{margin:"1px"}}),o.a.createElement("div",{style:{textAlign:"left",display:"inline"}},o.a.createElement(T.a,{style:{padding:"2px",margin:"5px"},onClick:function(){r.executeRenderingModule(e)}},"Execute"),o.a.createElement(T.a,{style:{padding:"2px",margin:"5px"},onClick:function(){r.configureRenderingModule(e)}},"Configure")))},r.toggle=function(e){r.setState((function(t){return Object(G.a)({},e,!t[e])}))},r.state={showModal:!1,selectedModule:void 0,selectionType:void 0,dataAccessHandlerExecuted:!1,resourceRelationModel:void 0,vertexEdgeMapperExecuted:!1,vertexEdgeModel:void 0,nodeLinkMapperExecuted:!1,nodeLinkModel:void 0},r.basicVertexEdgeMapper=new xe,r.basicNodeLinkMapper=new Ne,r.childState={graph_mouseZoom:!0,graph_mouseDrag:!0,node_mouseDrag:!0,node_mouseHover:!0,node_mouseSingleClick:!0,node_mouseDoubleClick:!0,link_mouseDrag:!0,link_mouseHover:!0,graphBgColor:"#FFFFFF",configSelectionOpen:!1,configSelected:"Default"},r.dataAccessHandler_DBPediaState={endpointURL:"http://live.dbpedia.org/sparql/",graphURL:"http://dbpedia.org",query:'PREFIX dbr: <http://dbpedia.org/resource/>\nPREFIX dbo: <http://dbpedia.org/ontology/>\nPREFIX owl: <http://www.w3.org/2002/07/owl#>\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX xsd: <http://www.w3.org/2001/XMLSchema#>\n\nSELECT  DISTINCT ?subject ?predicate ?object WHERE { \n{dbr:Nikola_Tesla ?predicate ?object.\n?object a owl:Class} \nUNION {\ndbr:Nikola_Tesla dbo:birthDate ?object.\nBIND(dbo:birthDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla dbo:deathDate ?object.\nBIND(dbo:deathDate as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:label ?object.\nBIND(rdfs:label as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla rdfs:comment ?object.\nBIND(rdfs:comment as ?predicate)\n}\nUNION {\ndbr:Nikola_Tesla ?foafPredicate ?object.\nFILTER(STRSTARTS(STR(?foafPredicate), "http://xmlns.com/foaf/0.1/"))\nBIND(?foafPredicate as ?predicate)\n}\nFILTER(!isLiteral(?object) ||langMatches(lang(?object),"EN") || datatype(?object)=xsd:date)\nBIND(dbr:Nikola_Tesla as ?subject)}\nLimit 100',queryResult:""},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"replacer",value:function(e,t){if("__outgoingEdges"!==e&&"__incomingEdges"!==e&&"__outgoingLinks"!==e&&"__incomingLinks"!==e&&"resourceReference"!==e)return t}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{width:"100%"}},o.a.createElement("div",{style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderBottomRightRadius:"0",borderBottomLeftRadius:"0",height:"40px",width:"100%",color:"white",backgroundColor:"#ad2f38"}},o.a.createElement("div",{style:{width:"100%",textAlign:"left",padding:"5px"}},this.props.title)),o.a.createElement("div",{style:{borderRadius:"10px",padding:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderTopRightRadius:"0",borderTopLeftRadius:"0",color:"black",backgroundColor:"#ffffff",marginTop:"-1px",position:"relative",height:"90%",width:"100%"}},o.a.createElement("div",{style:{width:"100%",height:"200px",textAlign:"center",display:"flex",flexFlow:"wrap",alignItems:"center",justifyContent:"center"}},this.renderDataAccessHandler(),this.renderVertexEdgeMapper(),this.renderNodeLinkMapper(),this.renderRenderingModule()),o.a.createElement(T.a,{style:{height:50,width:"100%"},onClick:function(){return e.exportPipeline()}}," ","Export Pipeline"," ")),"Data Access Handler"===this.state.selectedModule&&o.a.createElement(re,{title:this.state.selectedModule+": "+this.props.store.selectedDataSource,toggle:function(){return e.toggle("showModal")},showDialog:this.state.showModal},o.a.createElement("div",null,"Ontology File"===this.props.store.selectedDataSource&&"configure"===this.state.selectionType&&o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement("div",null,"This Module is not configurable in the demo."),o.a.createElement("div",null,"We are using an ontology file that has been converted using OWL2VOWL (input is a JSON file)"),o.a.createElement("div",null,"You can find the file in"," ",o.a.createElement("b",null,'"src/demoRequests/ontologyFile.json"'))),"DBPedia"===this.props.store.selectedDataSource&&"configure"===this.state.selectionType&&o.a.createElement(Ve,{statePropagation:this.propagate_DBPEdiaConfiguratorState}),"WikiData"===this.props.store.selectedDataSource&&"configure"===this.state.selectionType&&o.a.createElement(qe,{statePropagation:function(){console.log("TODO")}}),"ORKG"===this.props.store.selectedDataSource&&"configure"===this.state.selectionType&&o.a.createElement(Ke,{statePropagation:function(){console.log("TODO")}}),"viewOutput"===this.state.selectionType&&"Data Access Handler"===this.state.selectedModule&&o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement("div",null," ","Data Access Handler Output (Resource Relation Model)"),this.state.resourceRelationModel?o.a.createElement("textarea",{rows:"10",cols:"50",style:{width:"100%",height:"100%"},readOnly:!0,value:JSON.stringify(this.state.resourceRelationModel.resultingModel.modelAsJsonObject,null," \t")}):"Execute the module first."))),"Vertex Edge Mapper"===this.state.selectedModule&&o.a.createElement(re,{title:this.state.selectedModule+": "+this.props.store.selectedVertexEdgeMapper,toggle:function(){return e.toggle("showModal")},showDialog:this.state.showModal},o.a.createElement("div",null,"Basic Mapper"===this.props.store.selectedVertexEdgeMapper&&"configure"===this.state.selectionType&&o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement("div",null,"This Module is not configurable in the demo."),o.a.createElement("textarea",{rows:"10",cols:"50",readOnly:!0,style:{width:"100%",height:"100%"},value:JSON.stringify(this.basicVertexEdgeMapper.definitionMap,null," \t")})),"viewOutput"===this.state.selectionType&&o.a.createElement("div",null,o.a.createElement("div",null,"Vertex Edge Mapper Output (Vertex Edge Model)"),this.state.vertexEdgeModel?o.a.createElement("textarea",{rows:"10",cols:"50",readOnly:!0,style:{width:"100%",height:"100%"},value:JSON.stringify(this.state.vertexEdgeModel.resultingModel.modelAsJsonObject,this.replacer," \t")}):"Execute the module first."))),"Node Link Mapper"===this.state.selectedModule&&o.a.createElement(re,{title:this.state.selectedModule+": "+this.props.store.selectedVertexEdgeMapper,toggle:function(){return e.toggle("showModal")},showDialog:this.state.showModal},o.a.createElement("div",null,"Basic Mapper"===this.props.store.selectedVertexEdgeMapper&&"configure"===this.state.selectionType&&o.a.createElement("div",{style:{padding:"5px"}},o.a.createElement("div",null,"This Module is not configurable in the demo."),o.a.createElement("textarea",{rows:"10",cols:"50",readOnly:!0,style:{width:"100%",height:"100%"},value:JSON.stringify(this.basicNodeLinkMapper.definitionMap,this.replacer," \t")})),"viewOutput"===this.state.selectionType&&o.a.createElement("div",null,o.a.createElement("div",null,"Node Link Mapper Output (Vertex Edge Model)"),this.state.nodeLinkModel?o.a.createElement("textarea",{rows:"10",cols:"50",readOnly:!0,style:{width:"100%",height:"100%"},value:JSON.stringify(this.state.nodeLinkModel.resultingModel.modelAsJsonObject,this.replacer," \t")}):"Execute the module first."))),"Rendering Module"===this.state.selectedModule&&o.a.createElement(re,{title:this.state.selectedModule+"-- Configuration ",toggle:function(){return e.toggle("showModal")},showDialog:this.state.showModal},o.a.createElement("div",null,o.a.createElement(Fe,{propagateState:this.propagateState,nodeLinkModel:this.state.nodeLinkModel,initialState:this.childState}))))}}]),n}(r.Component),nt=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{createPreviewVisualization:function(t){return e((n=t,function(e){e({type:"CREATE_PREVIEW_VISUALIZATION",payload:{createPreviewVisualization:n}})}));var n},updateRenderingModuleConfiguration:function(t){e(M(t))}}}))(tt),rt=n(4),ot=function(){function e(){var t=this;Object(s.a)(this,e),this.renderingConfig=function(e){if(!e)return t.__renderingConfig;t.__renderingConfig=JSON.parse(JSON.stringify(e))},this.__id=void 0,this.__displayName=void 0,this.__renderingConfig=void 0,this.__drawTools=void 0,this.__visible=!0,this.groupRoot=void 0}return Object(d.a)(e,[{key:"visible",value:function(e){if(!arguments.length)return this.__visible;this.__visible=e}},{key:"id",value:function(e){if(!arguments.length)return this.__id;this.__id=e}},{key:"drawTools",value:function(e){if(!arguments.length)return this.__drawTools;this.__drawTools=e}},{key:"displayName",value:function(e){if(!arguments.length)return this.__displayName;this.__displayName=e}},{key:"render",value:function(){console.log("This is abstract function!")}}]),e}(),at=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).addIncomingLink=function(t){e.incomingLinks.push(t)},e.addOutgoingLink=function(t){e.outgoingLinks.push(t)},e.setPosition=function(t,n){e.x=t,e.y=n},e.updateRenderingPosition=function(){e.groupRoot&&e.groupRoot.attr("transform","translate("+e.x+","+e.y+")"),e.incomingLinks.concat(e.outgoingLinks).forEach((function(e){e.updateRenderingPosition()}))},e.render=function(t){e.groupRoot=t;var n=e.drawTools().renderNode(e.groupRoot,e.renderingConfig(),Object(We.a)(e));e.renderingShape=n.renderingShape,e.renderingText=n.renderingText,e.updateRenderingPosition()},e.x=0,e.y=0,e.incomingLinks=[],e.outgoingLinks=[],e.__numberOfLoops=0,e.__internalObjectType="node",e.__transition_animationDuration=500,e}return Object(d.a)(n,[{key:"numberOfLoops",value:function(e){if(!arguments.length)return this.__numberOfLoops;this.__numberOfLoops=e}},{key:"removeAllRenderedElementsFromParent",value:function(){this.groupRoot&&(this.groupRoot.selectAll("rect").remove(),this.groupRoot.selectAll("text").remove(),this.groupRoot.selectAll("g").remove())}},{key:"redraw",value:function(){this.removeAllRenderedElementsFromParent(),this.render(this.groupRoot)}}]),n}(ot),it=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).setPosition=function(t,n){e.x=t,e.y=n},e.updateRenderingPosition=function(){e.renderingLine&&(e.drawTools().updateLinePosition(Object(We.a)(e),e.renderingLine,e.sourceNode,e.targetNode,e.__internalType,"curve"===e.renderingConfig().options.link_renderingType||"loop"===e.__internalType),e.propertyNodePostion=e.drawTools().updatePropertyPosition(Object(We.a)(e),e.renderingShape,e.sourceNode,e.targetNode,e.__internalType,"curve"===e.renderingConfig().options.link_renderingType))},e.render=function(t,n,r){e.groupRoot=t,e.propertyContainer=n,e.arrowContainer=r;var o=!1;if(e.renderingShape){o=!0;var a=[e.renderingShape.data()[0].x,e.renderingShape.data()[0].y];e.propertyNodePostion={x:a[0],y:a[1]}}var i=e.drawTools().renderLink(e.groupRoot,e.propertyContainer,e.arrowContainer,e.renderingConfig(),Object(We.a)(e));e.renderingLine=i.renderingLine,e.renderingShape=i.renderingShape,e.renderingText=i.renderingText,"loop"!==e.__internalType&&"multiLink"!==e.__internalType&&("line"===e.renderingConfig().options.link_renderingType?e.setInternalType("singleLink"):"curve"===e.renderingConfig().options.link_renderingType&&"loop"!==e.__internalType&&e.setInternalType("multiLink")),o&&(e.renderingShape.data()[0].x=e.propertyNodePostion.x,e.renderingShape.data()[0].px=e.propertyNodePostion.x,e.renderingShape.data()[0].y=e.propertyNodePostion.y,e.renderingShape.data()[0].py=e.propertyNodePostion.y),e.updateRenderingPosition()},e.x=0,e.y=0,e.sourceNode=null,e.targetNode=null,e.__internalType="singleLink",e.propertyNodePostion=null,e.__internalObjectType="link",e}return Object(d.a)(n,[{key:"setInternalType",value:function(e){this.__internalType=e}},{key:"setTargetNode",value:function(e){this.targetNode=e,e.addIncomingLink(this)}},{key:"setSourceNode",value:function(e){this.sourceNode=e,e.addOutgoingLink(this)}},{key:"getForceNode",value:function(){return"loop"===this.__internalType||"multiLink"===this.__internalType||"singleLink"===this.__internalType?this.renderingShape.data():[]}},{key:"getForceLink",value:function(){return"loop"===this.__internalType?[{source:this.sourceNode,target:this.renderingShape.data()[0],type:"loop"}]:[{source:this.sourceNode,target:this.renderingShape.data()[0],type:"mlPart"},{source:this.renderingShape.data()[0],target:this.targetNode,type:"mlPart"}]}},{key:"resetPropertyPosition",value:function(){}},{key:"initializePropertyNodePosition",value:function(){var e=this.drawTools().lineTools.computeShapeBasedCenterPoint(this.sourceNode,this.targetNode,1);this.propertyNodePostion={x:e.cx,y:e.cy}}},{key:"setPropertyNodePosition",value:function(e){this.propertyNodePostion=e,this.renderingShape&&(this.renderingShape.data()[0].x=this.propertyNodePostion.x,this.renderingShape.data()[0].px=this.propertyNodePostion.x,this.renderingShape.data()[0].y=this.propertyNodePostion.y,this.renderingShape.data()[0].py=this.propertyNodePostion.y)}}]),n}(ot),st=function e(){Object(s.a)(this,e),this.getShapeRadius=function(e){return parseFloat(e.attr("rx"))},this.getShapeWidth=function(e){return parseFloat(e.attr("width"))},this.getShapeHeight=function(e){return parseFloat(e.attr("height"))}},dt=function(){function e(){var t=this;Object(s.a)(this,e),this.computeIntersectionPointsWithProperty=function(e,n,r,o){var a=0;o&&(a=o);var i=r.renderingShape;i.data()[0].updateRenderingPosition();var s={x:e.x,y:e.y},d={x:i.data()[0].x,y:i.data()[0].y},l={x:n.x,y:n.y};if("loop"===r.__internalType){var c=2;e.numberOfLoops()>0&&(c=e.numberOfLoops());var u=.8*(360/c),p=Math.min(60,u),f=d.x-e.x,h=d.y-e.y,g=Math.atan2(h,f),m=t.__calculateAngle(g),y=m-p/2,v=m+p/2,_=t.shapeTools.getShapeRadius(e.renderingShape)+a,w=t.shapeTools.getShapeWidth(e.renderingShape)+a,b=t.shapeTools.getShapeHeight(e.renderingShape)+a,k=Math.min(.5*w,.5*b);w===b&&(k=_);var x=t.__calculateRadian(y),E=t.__calculateRadian(v),O=Math.cos(x)*k,R=Math.sin(x)*k,S=Math.cos(E)*k,N=Math.sin(E)*k;return[[e.x+O,e.y+R],[d.x,d.y],[e.x+S,e.y+N]]}var C=t.__computeNormalizedOffsetDirection(s,d);return t.__shapeBasedIntersection(s,e,C,a),C=t.__computeNormalizedOffsetDirection(l,d),t.__shapeBasedIntersection(l,n,C,a),[[s.x,s.y],[d.x,d.y],[l.x,l.y]]},this.computeIntersectionPoints=function(e,n,r){var o=0;r&&(o=r);var a={x:e.x,y:e.y},i={x:n.x,y:n.y},s=t.__computeNormalizedOffsetDirection(e,n);return t.__shapeBasedIntersection(a,e,s,o),s=t.__computeNormalizedOffsetDirection(n,e),t.__shapeBasedIntersection(i,n,s,o),[[a.x,a.y],[i.x,i.y]]},this.shapeTools=new st}return Object(d.a)(e,[{key:"computeCenterPoint",value:function(e,t,n){return{cx:.5*(t.x+e.x)+n,cy:.5*(t.y+e.y)+n}}},{key:"computeShapeBasedCenterPoint",value:function(e,t,n){var r=.5*parseInt(e.renderingShape.attr("width")),o=.5*parseInt(t.renderingShape.attr("width"));return{cx:e.x+r+.5*(t.x-o-e.x+r),cy:.5*(t.y+e.y)+n}}},{key:"__calculateRadian",value:function(e){return(e%=360)<0&&(e+=360),Math.PI*e/180}},{key:"__calculateAngle",value:function(e){return e*(180/Math.PI)}},{key:"__computeNormalizedOffsetDirection",value:function(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);return{x:n/o,y:r/o}}},{key:"__shapeBasedIntersection",value:function(e,t,n,r){var o=t.renderingConfig();if("circle"===o.style.renderingType){var a=this.shapeTools.getShapeRadius(t.renderingShape)+r;e.x=t.x+a*n.x,e.y=t.y+a*n.y}else{if("rect"===o.style.renderingType||"ellipse"===o.style.renderingType){var i,s=this.shapeTools.getShapeWidth(t.renderingShape)+r,d=this.shapeTools.getShapeHeight(t.renderingShape)+r,l=.5*parseFloat(s),c=.5*parseFloat(d);return i=Math.abs(n.x)>=Math.abs(n.y)?1/Math.abs(n.x):1/Math.abs(n.y),e.x=t.x+i*l*n.x,e.y=t.y+i*c*n.y,e}e.x=t.x,e.y=t.y}}}]),e}(),lt=function(){function e(t){var n=this;Object(s.a)(this,e),this.__directLineFunction=rt.svg.line(),this.__curveLineFunction=rt.svg.line().interpolate("cardinal"),this.__loopLineFunction=rt.svg.line().interpolate("cardinal").tension(-1),this.drawDisplayName=function(e,t,r){if(!0===r.options.drawDisplayName)return n._drawText(e,t,r.fontStyle)},this.applyAdditionalOptions=function(e,t,r,o,a){var i=o.options;if(i.addTitleForDisplayName&&e.append("title").text(r.text()),!0===i.fontSizeOverWritesShapeSize){var s=n.measureTextWidth(r.text(),o.fontStyle.fontFamily,o.fontStyle.fontSize);t.attr("x",-.5*(s+i.overwriteOffset)),t.attr("width",s+i.overwriteOffset)}if(i.cropLongText&&n.measureTextWidth(r.text(),o.fontStyle.fontFamily,o.fontStyle.fontSize)>parseFloat(t.attr("width"))){var d=n.cropText(r.text(),o.fontStyle,parseFloat(t.attr("width")));r.text(d)}if(!0===i.drawNestedAttributes&&a.refereceResource&&a.refereceResource.__aggregatedLink&&a.refereceResource.__aggregatedLink.length>0){var l=a.refereceResource.__aggregatedLink,c=parseFloat(t.attr("height"))+35*l.length;t.attr("x",-110),t.attr("y",-.5*c),t.attr("width",220),t.attr("height",c);var u=-.5*c+n.measureTextHeight(r.text(),o.fontStyle.fontFamily,o.fontStyle.fontSize);r.attr("dy",u+"px");var p=e.append("line"),f=t.attr("x"),h=t.attr("y"),g=t.attr("width"),m=window.getComputedStyle(r.node()).getPropertyValue("font-size"),y=parseFloat(m),v=parseFloat(h)+8+y,_=parseFloat(f)+parseFloat(g);p.attr("x1",f).attr("y1",v).attr("x2",_).attr("y2",v),p.style("stroke","black");var w=e.append("g");w.attr("id","NestedGroupForNode"+a.id());var b=0,k=24-15*l.length;l.forEach((function(e){var t=w.append("g"),r=w.append("g"),o=n.renderingConfigHandler.getLinkConfigFromType(e.__linkType),a=n.renderingConfigHandler.getNodeConfigFromType(e.__target.__nodeType);n.renderShadowNode(t,o.style.propertyNode,e),t.attr("transform","translate(-55,"+(k+b)+")"),n.renderShadowNode(r,a,e.__target),r.attr("transform","translate(55,"+(k+b)+")"),b+=35}))}(!i.drawNestedAttributes||a.refereceResource&&a.refereceResource.__aggregatedLink&&0===a.refereceResource.__aggregatedLink.length)&&i.fontPositionV&&"center"===i.fontPositionV&&n._text_vAlignCenter(r,t,o),i.fontPositionH&&"center"===i.fontPositionH&&n._text_hAlignCenter(r,t,o)},this._text_vAlignCenter=function(e,t,r){var o=.25*n.measureTextHeight(e.text(),r.fontStyle.fontFamily,r.fontStyle.fontSize);e.attr("dy",o+"px")},this._text_hAlignCenter=function(e,t,r){var o=-.5*n.measureTextWidth(e.text(),r.fontStyle.fontFamily,r.fontStyle.fontSize);e.attr("dx",o+"px")},this._addStrokeElements=function(e,t,n){var r=t[n+"Color"],o=t[n+"Width"],a=t[n+"Style"];e.style("stroke",r),e.style("stroke-width",o),"solid"!==a&&("dashed"===a&&e.style("stroke-dasharray",8),"dotted"===a&&e.style("stroke-dasharray",3))},this.applyShapeStyle=function(e,t){e.attr("fill",t.bgColor),n._addStrokeElements(e,t,"stroke")},this.renderBaseShape=function(e,t){var n=parseInt(t.radius),r=parseInt(t.width),o=parseInt(t.height);if("circle"===t.renderingType&&(e.attr("x",-n),e.attr("y",-n),e.attr("width",2*n),e.attr("height",2*n),e.attr("rx",n),e.attr("ry",n)),"rect"===t.renderingType&&(e.attr("x",-.5*r),e.attr("y",-.5*o),e.attr("width",r),e.attr("height",o),t.roundedCorner)){var a=t.roundedCorner.split(",");e.attr("rx",parseFloat(a[0])),e.attr("ry",parseFloat(a[1]))}"ellipse"===t.renderingType&&(e.attr("x",-.5*r),e.attr("y",-.5*o),e.attr("width",r),e.attr("height",o),e.attr("rx",r),e.attr("ry",o))},this.lineTools=new dt,this.renderingConfigHandler=t.getRenderingHandler()}return Object(d.a)(e,[{key:"renderShadowNode",value:function(e,t,n){var r=e.append("rect"),o=t.style;this.renderBaseShape(r,o),this.applyShapeStyle(r,o);var a=this.drawDisplayName(e,n.__displayName,t);return this.applyAdditionalOptions(e,r,a,t,n),{renderingShape:r,renderingText:a}}},{key:"renderNode",value:function(e,t,n){var r=e.append("rect"),o=t.style;this.renderBaseShape(r,o),this.applyShapeStyle(r,o);var a=this.drawDisplayName(e,n.displayName(),t);return this.applyAdditionalOptions(e,r,a,t,n),{renderingShape:r,renderingText:a}}},{key:"renderLink",value:function(e,t,n,r,o){var a=this.__createLinkLine(e,r),i=null,s=null;if(r.options.drawArrowHead&&this.__drawArrowHead(e,n,"arrowHead_"+o.id(),r.style.arrowHead),r.options.drawArrowTail&&this.__drawArrowTail(e,n,"arrowTail_"+o.id(),r.style.arrowTail),r.options.drawPropertyNode){var d=this.__createRenderingShapeForPropertyNode(t,null,r.style.propertyNode,o);i=d.renderingShape,s=d.displayName}return{renderingLine:a,renderingShape:i,renderingText:s}}},{key:"__createRenderingShapeForPropertyNode",value:function(e,t,n,r){t=e.append("g");var o="PROPERTY_NODE_"+r.sourceNode.id()+"_"+r.id()+"_"+r.targetNode.id();t.node().id=o;var a={x:r.x,y:r.y,__id:o,ref:r,groupRoot:t};t.node().__data__=a,a.id=function(){return this.__id},a.updateRenderingPosition=function(){this.groupRoot.attr("transform","translate("+this.x+","+this.y+")")},a.setPosition=function(e,t){this.x=e,this.y=t};var i=this.renderNode(t,n,r);return{renderingShape:i.renderingShape,displayName:i.displayName}}},{key:"__createLinkLine",value:function(e,t){var n=e.append("path");return this._addStrokeElements(n,t.style.link,"line"),n.style("fill","none"),n}},{key:"__drawArrowHead",value:function(e,t,n,r){this.__drawArrowPrimitive(e,t,n,r,"marker-end")}},{key:"__drawArrowTail",value:function(e,t,n,r){this.__drawArrowPrimitive(e,t,n,r,"marker-start")}},{key:"__drawArrowPrimitive",value:function(e,t,n,r,o){var a=parseFloat(r.scaleFactor),i=-14*a+" "+-10*a+" "+28*a+" "+20*a,s=t.append("marker").attr("id",n).attr("viewBox",i).attr("markerWidth",10*a).attr("markerHeight",10*a).attr("orient","auto");e.attr(o,"url(#"+n+")");var d=s.append("path");if("triangle"===r.renderingType){var l=-12*a,c=8*a,u=-12*a,p=-8*a;d.attr("d","M0,0L "+l+","+c+"L"+u+","+p+"L0,0")}if("diamond"===r.renderingType){var f=-8*a,h=8*a,g="M0,"+f+"L"+h+",0L0,"+h+"L"+f+",0L0,"+f+"L"+h+",0";d.attr("d",g)}d.style("stroke",r.strokeColor),d.style("stroke-width",r.strokeWidth),d.style("fill",r.fillColor),"solid"!==r.strokeStyle&&("dashed"===r.strokeStyle&&d.style("stroke-dasharray",8),"dotted"===r.strokeStyle&&d.style("stroke-dasharray",3))}},{key:"updateLinePosition",value:function(e,t,n,r,o,a){if("loop"!==o&&"multiLink"!==o||(a=!0),!1===a){var i=this.lineTools.computeIntersectionPoints(n,r,1);t.attr("d",this.__directLineFunction(i))}else{var s=this.lineTools.computeIntersectionPointsWithProperty(n,r,e,1);"loop"===o?t.attr("d",this.__loopLineFunction(s)):t.attr("d",this.__curveLineFunction(s))}}},{key:"updatePropertyPosition",value:function(e,t,n,r,o,a){if("loop"!==o&&"multiLink"!==o||(a=!0),a){if(t){var i=t.node().parentNode;return{x:rt.select(i).data()[0].x,y:rt.select(i).data()[0].y}}}else if(t){var s=t.node().parentNode;if(s&&!1===a){var d=this.lineTools.computeIntersectionPointsWithProperty(n,r,e,1),l={cx:.5*(d[2][0]+d[0][0]),cy:.5*(d[2][1]+d[0][1])};rt.select(s).data()[0].setPosition(l.cx,l.cy),rt.select(s).data()[0].updateRenderingPosition()}}}},{key:"measureTextWidth",value:function(e,t,n){var r=rt.select("body").append("text");r.attr("id","width-test"),r.attr("style","position:absolute; float:left; white-space:nowrap; font-family:"+t+";font-size: "+n),r.text(e);var o=document.getElementById("width-test").offsetWidth;return r.remove(),o}},{key:"measureTextHeight",value:function(e,t,n){var r=rt.select("body").append("text");r.attr("id","width-test"),r.attr("style","position:absolute; float:left; white-space:nowrap; font-family:"+t+";font-size: "+n),r.text(e);var o=document.getElementById("width-test").offsetHeight;return r.remove(),o}},{key:"_drawText",value:function(e,t,n){var r=e.append("text").text(t);return r.style("font-family",n.fontFamily),r.style("font-size",n.fontSize),r.style("fill",n.fontColor),r.style("pointer-events","none"),r}},{key:"cropText",value:function(e,t,n){for(var r,o,a,i=e;!((r=this.measureTextWidth(i,t.fontFamily,t.fontSize))<=n)&&(o=r/n,a=Math.floor(i.length/o),i.length!==a);)i=i.substring(0,a);return e.length>i.length?e.substring(0,i.length-6)+"...":e}}]),e}(),ct=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).pauseForceLayoutAnimation=function(e){e?r.stopForce():r.resumeForce()},r.recalculatePositions=function(){r.renderedNodes.forEach((function(e){e.updateRenderingPosition()})),r.renderedLinks.forEach((function(e){e.updateRenderingPosition()}))},r.createForceElements=function(){var e,t=Object(We.a)(r);for(void 0===r.force&&(r.force=rt.layout.force()),r.forceLinks=[],r.forceNodes=[],e=0;e<r.renderedNodes.length;e++)r.renderedNodes[e].visible()&&r.forceNodes.push(r.renderedNodes[e]);for(e=0;e<r.renderedLinks.length;e++)r.renderedLinks[e].visible()&&(r.forceLinks=r.forceLinks.concat(r.renderedLinks[e].getForceLink()),r.forceNodes=r.forceNodes.concat(r.renderedLinks[e].getForceNode()));r.force.nodes(r.forceNodes),r.force.links(r.forceLinks),r.forceNodes.forEach((function(e){e.layoutHandlerReference=Object(We.a)(r)})),r.forceLinks.forEach((function(e){e.layoutHandlerReference=Object(We.a)(r)})),r.distanceValue=400,r.force.charge((function(){return-400})).linkDistance(r.computeLinkDistance).linkStrength(.5).size([t.layoutSize[0],t.layoutSize[1]]).gravity(.025),r.recalculatePositions(),r.force.on("tick",r.recalculatePositions)},r.force=void 0,r.forceLinks=[],r.forceNodes=[],r.linkDistance="auto",r.distanceValue=300,r.layoutSize=[],r}return Object(d.a)(n,[{key:"setLinkDistance",value:function(e){this.distanceValue=e,this.force&&this.force.linkDistance(e)}},{key:"resumeForce",value:function(){this.force&&this.force.resume()}},{key:"stopForce",value:function(){this.force&&this.force.stop()}},{key:"toggleForce",value:function(){this.force&&(0===this.force.alpha()?this.force.resume():this.force.stop())}},{key:"initializeLayoutEngine",value:function(){this.updateLayoutSize(),this.renderedNodes=this.graph.nodes,this.renderedLinks=this.graph.links,this.force&&this.force.stop(),this.createForceElements(),this.force.start(),this.force.stop()}},{key:"updateLayoutSize",value:function(){var e=this.graph.svgRoot.node().getBoundingClientRect();this.layoutSize[0]=e.width,this.layoutSize[1]=e.height}},{key:"computeLinkDistance",value:function(e){return"direct"===e.type?400:"loop"===e.type?150:"mlPart"===e.type?200:void 0}}]),n}((function e(t){Object(s.a)(this,e),this.graph=t,this.renderedNodes=t.nodes,this.renderedLinks=t.links})),ut=function e(t){var n=this;Object(s.a)(this,e),this.enableMouseZoom=function(e){n.zoomEnabled=e},this.enableMouseDrag=function(e){n.dragEnabled=e},this.applyGraphInteractions=function(){if(n.graphObject){var e=n;n.zoom=rt.behavior.zoom().duration(150).scaleExtent([.02,5]).on("zoom",n.zoomed).on("zoomstart",(function(){rt.event.sourceEvent&&rt.event.sourceEvent.buttons&&1===rt.event.sourceEvent.buttons&&e.graphObject.svgRoot.style("cursor","all-scroll")})).on("zoomend",(function(){e.graphObject.svgRoot.style("cursor","auto")})),n.graphObject.svgRoot.call(n.zoom),n.zoom=n.zoom.scaleExtent([.02,5]),n.graphObject.graphRoot&&n.zoom.event(n.graphObject.graphRoot)}else console.error("NO GRAPH OBJECT FOUND")},this.resetUserLayout=function(){},this.zoomed=function(){rt.event.sourceEvent&&(rt.event.sourceEvent.preventDefault(),rt.event.sourceEvent.stopPropagation());var e=n,t=n.graphObject.graphRoot,r=!1;if(rt.event.sourceEvent&&rt.event.sourceEvent.deltaY&&(r=!0),!1===r){if(!0===n.transformAnimation)return;return n.zoomFactor=rt.event.scale,n.graphTranslation=rt.event.translate,void t.attr("transform","translate("+n.graphTranslation+")scale("+n.zoomFactor+")")}n.zoomFactor=rt.event.scale,n.graphTranslation=rt.event.translate,t.transition().tween("attr.translate",(function(){return function(){e.transformAnimation=!0;var n=rt.transform(t.attr("transform"));e.graphTranslation[0]=n.translate[0],e.graphTranslation[1]=n.translate[1],e.zoomFactor=n.scale[0]}})).each("end",(function(){e.transformAnimation=!1})).attr("transform","translate("+e.graphTranslation+")scale("+e.zoomFactor+")").ease("linear").duration(250)},this.graphObject=t,this.zoom=void 0,this.graphTranslation=[0,0],this.zoomFactor=1,this.transformAnimation=!1,this.zoomEnabled=!0,this.dragEnabled=!0},pt=function(){function e(t){var n=this;Object(s.a)(this,e),this.setHoverEnabled=function(e){n.hasNodeHover=e},this.setNodeClickEnabled=function(e){n.hasNodeClick=e},this.setNodeDoubleClickEnabled=function(e){n.hasNodeDobleClick=e},this.setDragEnabled=function(e){n.hasNodeDragEnabeld=e},this.applyNodeInteractions=function(){if(n.graphObject){n.dragBehaviour=rt.behavior.drag().origin((function(e){return e})).on("dragstart",n.dragStart).on("drag",n.drag).on("dragend",n.dragEnd);var e=n;n.hoverBehaviour=function(t){e.hasNodeHover&&(t.on("mouseover",e.nodeHoverIn),t.on("mouseout",e.nodeHoverOut))},n.clickBehaviour=function(t){e.hasNodeClick&&t.on("click",e.nodeClick)},n.doubleClickBehavoir=function(t){e.hasNodeDobleClick&&t.on("click",e.nodeDoubleClick)};var t=n.graphObject.nodes;t.length>0&&t.forEach((function(e){e.groupRoot&&(e.groupRoot.call(n.dragBehaviour),e.groupRoot.call(n.hoverBehaviour),e.groupRoot.call(n.clickBehaviour),e.groupRoot.call(n.doubleClickBehavoir))}))}else console.error("NO GRAPH OBJECT FOUND")},this.dragStart=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.fixed=!0,e.groupRoot.style("cursor","pointer"))},this.drag=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.setPosition(rt.event.x,rt.event.y),e.px=rt.event.x,e.py=rt.event.y,e.updateRenderingPosition(),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.dragEnd=function(e){n.hasNodeDragEnabeld&&(e.fixed=!1,e.groupRoot.style("cursor","auto"),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.graphObject=t,this.dragBehaviour=null,this.hasNodeClick=!1,this.hasNodeDobleClick=!1,this.hasNodeHover=!0}return Object(d.a)(e,[{key:"nodeHoverIn",value:function(e){e.renderingShape.style("fill","green")}},{key:"nodeHoverOut",value:function(e){e.renderingShape.style("fill",e.renderingConfig().style.bgColor)}},{key:"nodeDoubleClick",value:function(e){rt.event.stopPropagation(),rt.event.preventDefault()}},{key:"nodeClick",value:function(e){}}]),e}(),ft=function(){function e(t){var n=this;Object(s.a)(this,e),this.setHoverEnabled=function(e){n.hasLinkHover=e,n.hasPropertyHover=e},this.setNodeClickEnabled=function(e){n.hasNodeClick=e},this.setNodeDoubleClickEnabled=function(e){n.hasNodeDobleClick=e},this.setDragEnabled=function(e){n.hasNodeDragEnabeld=e},this.applyLinkInteractions=function(){if(n.graphObject){n.dragBehaviour=rt.behavior.drag().origin((function(e){return e})).on("dragstart",n.dragStart).on("drag",n.drag).on("dragend",n.dragEnd);var e=n;n.hoverBehaviour=function(t){e.hasLinkHover&&(t.on("mouseover",e.linkHoverIn),t.on("mouseout",e.linkHoverOut))},n.propertyHoverBehaviour=function(t){e.hasPropertyHover&&(t.on("mouseover",e.propertyHoverIn),t.on("mouseout",e.propertyHoverOut))};var t=n.graphObject.links;t.length>0&&t.forEach((function(e){if(e.groupRoot&&(e.groupRoot.call(n.hoverBehaviour),e.renderingShape)){var t=e.renderingShape.node().parentNode;if(t){var r=rt.select(t);r&&(r.call(n.propertyHoverBehaviour),r.call(n.dragBehaviour))}}}))}else console.error("NO GRAPH OBJECT FOUND")},this.propertyHoverIn=function(e){e.ref.renderingShape.style("fill","red"),!0!==e.mouseEntered&&(e.mouseEntered=!0,e.keepRendering=!0,e.unblockRendering&&(e.keepRendering=!1,e.unblockRendering=!1))},this.dragStart=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.fixed=!0,e.groupRoot.style("cursor","pointer"))},this.drag=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.setPosition(rt.event.x,rt.event.y),e.px=rt.event.x,e.py=rt.event.y,e.ref.updateRenderingPosition(),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.dragEnd=function(e){n.hasNodeDragEnabeld&&(e.fixed=!1,e.groupRoot.style("cursor","auto"))},this.graphObject=t,this.dragBehaviour=null,this.hasNodeClick=!1,this.hasNodeDobleClick=!1,this.hasLinkHover=!0,this.hasPropertyHover=!0}return Object(d.a)(e,[{key:"linkHoverIn",value:function(e){e.renderingLine.style("stroke","red")}},{key:"linkHoverOut",value:function(e){e.renderingLine.style("stroke",e.renderingConfig().style.link.lineColor)}},{key:"propertyHoverOut",value:function(e){e.ref.renderingShape.style("fill",e.ref.renderingConfig().style.propertyNode.bgColor),"multiLink"===e.ref.__internalType&&rt.selectAll(".MultiLinkHoverButton").remove(),e.mouseEntered=!1}},{key:"nodeDoubleClick",value:function(e){}},{key:"nodeClick",value:function(e){}}]),e}(),ht=function(){function e(){Object(s.a)(this,e),this.graphInteractions=null,this.nodeInteractions=null,this.linkInteractions=null}return Object(d.a)(e,[{key:"applyInteractions",value:function(e,t){this.graphInteractions||(console.warn("NO GRAPH INTERACTIONS DEFINED!  << Creating default ones >> "),this.graphInteractions=new ut(e)),this.graphInteractions.applyGraphInteractions(t),this.nodeInteractions||(console.warn("NO NODE INTERACTIONS DEFINED!  << Creating default ones >> "),this.nodeInteractions=new pt(e)),this.nodeInteractions.applyNodeInteractions(t),this.linkInteractions||(console.warn("NO LINK INTERACTIONS DEFINED!  << Creating default ones >> "),this.linkInteractions=new ft(e)),this.linkInteractions.applyLinkInteractions(t)}}]),e}(),gt=function e(){var t=this;Object(s.a)(this,e),this.getNodeConfigFromType=function(e){return t.renderingConfigObject.nodes.hasOwnProperty(e)?t.renderingConfigObject.nodes[e]:t.defaultNodeCFG},this.getLinkConfigFromType=function(e){return t.renderingConfigObject.links.hasOwnProperty(e)?t.renderingConfigObject.links[e]:t.defaultLinkCFG},this.renderingConfigObject={nodes:{},links:{}},this.defaultNodeCFG={style:{renderingType:"circle",bgColor:"#959796",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},this.defaultLinkCFG={style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},arrowTail:{renderingType:"diamond",scaleFactor:2,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#d6d5d5"},propertyNode:{style:{renderingType:"rect",bgColor:"#ffffff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"true",strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000000",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!0,link_renderingType:"line"}}},mt=function(){function e(){var t=this;Object(s.a)(this,e),this.setGraphBackgroundColor=function(e){t.graphBgColor=e},this.setRenderingContainer=function(e){t.divRoot=e},this.setDrawTools=function(e){t.drawTools=e},this.setModel=function(e){t.model=e},this.setRenderingConfig=function(e){t.renderingConfig=e},this.getRenderingHandler=function(){return t.renderingConfig},this.setInteractionHandler=function(e){t.interactionHandler=e},this.configureGraphInteractions=function(e){var n=e.graph_mouseZoom,r=e.graph_mouseDrag;t.interactionHandler||(t.interactionHandler=new ht),t.interactionHandler.graphInteractions||(t.interactionHandler.graphInteractions=new ut(t)),t.interactionHandler.graphInteractions.enableMouseZoom(n),t.interactionHandler.graphInteractions.enableMouseDrag(r);var o=e.node_mouseDrag,a=e.node_mouseHover,i=e.node_mouseSingleClick,s=e.node_mouseDoubleClick;t.interactionHandler.nodeInteractions||(t.interactionHandler.nodeInteractions=new pt(t)),t.interactionHandler.graphInteractions.enableMouseZoom(n),t.interactionHandler.graphInteractions.enableMouseDrag(r),t.interactionHandler.nodeInteractions.setNodeClickEnabled(i),t.interactionHandler.nodeInteractions.setNodeDoubleClickEnabled(s),t.interactionHandler.nodeInteractions.setHoverEnabled(a),t.interactionHandler.nodeInteractions.setDragEnabled(o),t.interactionHandler.linkInteractions||(t.interactionHandler.linkInteractions=new ft(t));var d=e.link_mouseDrag,l=e.link_mouseHover;t.interactionHandler.linkInteractions.setHoverEnabled(l),t.interactionHandler.linkInteractions.setDragEnabled(d),t.setGraphBackgroundColor(e.graphBgColor)},this.resetUserNavigation=function(){t.interactionHandler&&t.interactionHandler.graphInteractions&&t.interactionHandler.graphInteractions.resetUserLayout()},this.initializeRenderingContainer=function(){t.divRoot?(t._clearRenderingContainers(),t._createRenderingContainers()):console.error("No div found for the graph ")},this._clearRenderingContainers=function(){t.graphRoot&&(t.graphRoot.selectAll("defs").remove(),t.graphRoot.selectAll("g").remove(),t.graphRoot.remove()),t.svgRoot&&t.svgRoot.remove(),rt.select("#"+t.divRoot+"_svgRoot")&&rt.select("#"+t.divRoot+"_svgRoot").remove()},this._updateSVG_Size=function(){if(t.svgRoot){var e=rt.select("#"+t.divRoot).node().getBoundingClientRect();t.svgRoot.style("width",e.width+"px"),t.svgRoot.style("height",e.height+"px")}},this._createRenderingContainers=function(){var e=rt.select("#"+t.divRoot);t.svgRoot=e.append("svg"),t.svgRoot.node().id=t.divRoot+"_svgRoot",t.svgRoot.style("background",t.graphBgColor),t._checkForPaddingInDivNode();var n=e.node().getBoundingClientRect();t.svgRoot.style("width",n.width+"px"),t.svgRoot.style("height",n.height+"px"),t.graphRoot=t.svgRoot.append("g"),t.graphRoot.style("overflow","hidden"),t._createLayers()},this._createLayers=function(){var e=t.graphRoot,n=t.divRoot;t.layerObject.forEach((function(t){"arrows"===t?e.append("defs").node().id=n+"_"+t:e.append("g").node().id=n+"_"+t}))},this._checkForPaddingInDivNode=function(){var e=rt.select("#"+t.divRoot);if(e.style("padding-left")||e.style("padding-right")||e.style("padding-top")||e.style("padding-bottom")){var n=0;!e.style("padding-left")||"0"!==e.style("padding-left")&&"0px"!==e.style("padding-left")||n++,!e.style("padding-right")||"0"!==e.style("padding-right")&&"0px"!==e.style("padding-right")||n++,!e.style("padding-top")||"0"!==e.style("padding-top")&&"0px"!==e.style("padding-top")||n++,!e.style("padding-bottom")||"0"!==e.style("padding-bottom")&&"0px"!==e.style("padding-bottom")||n++,4!==n&&console.error("DO NOT PUT PADDING INTO THE RENDERING DIV! \n Will nevertheless try to render it ")}},this.createNodePrimitive=function(e){var n=new at;n.id(e.__nodeLinkIdentifier),n.displayName(e.__displayName),n.renderingConfig(t.renderingConfig.getNodeConfigFromType(e.__nodeType)),n.refereceResource=e,n.drawTools(t.drawTools),t.nodes.push(n),t.nodeMap[n.id()]=n},this.createLinkPrimitive=function(e){var n=new it;if(n.id(e.__nodeLinkIdentifier),n.displayName(e.__displayName),"axiomLink"!==e.__linkType?n.renderingConfig(t.renderingConfig.getLinkConfigFromType(e.__linkType)):n.renderingConfig(t.renderingConfig.getLinkConfigFromType(e.__linkAxiom)),n.drawTools(t.drawTools),n.setSourceNode(t.nodeMap[e.__source.__nodeLinkIdentifier]),n.setTargetNode(t.nodeMap[e.__target.__nodeLinkIdentifier]),t.nodeMap[e.__source.__nodeLinkIdentifier]===t.nodeMap[e.__target.__nodeLinkIdentifier]){n.setInternalType("loop");var r=t.nodeMap[e.__source.__nodeLinkIdentifier];r.numberOfLoops(r.numberOfLoops()+1)}t.links.push(n),t.linkMap[n.id()]=n},this.updateMultiLinkTypes=function(e){if("loop"!==e.__internalType){var t=e.sourceNode,n=e.targetNode,r=!1;t.outgoingLinks.forEach((function(t){"loop"!==t.__internalType&&t.id()!==e.id()&&t.targetNode.id()===n.id()&&(r=!0)})),n.outgoingLinks.forEach((function(n){"loop"!==n.__internalType&&n.id()!==e.id()&&n.targetNode.id()===t.id()&&(r=!0)})),r&&e.setInternalType("multiLink"),!1===e.renderingConfig().options.drawPropertyNode&&e.setInternalType("singleLink")}},this.redrawRenderingPrimitives=function(){t._drawRenderingPrimitivesForNodes(),t._drawRenderingPrimitivesForLinks()},this.drawRenderingPrimitives=function(){t._drawRenderingPrimitivesForNodes(),t._drawRenderingPrimitivesForLinks(),t.interactionHandler?t.interactionHandler.applyInteractions(t):console.log("No Interaction Handler set, the graph will be static!"),t.layoutHandler?(t.layoutHandler.initializeLayoutEngine(),t.layoutHandler.resumeForce()):console.log("No Layout Handler set, the graph will be static!")},this._drawRenderingPrimitivesForLinks=function(){var e=rt.select("#"+t.divRoot+"_links"),n=rt.select("#"+t.divRoot+"_properties"),r=rt.select("#"+t.divRoot+"_arrows");t.renderedLinks=t.createRenderingPrimitives(e,t.links,"LinkItem"),t.renderedLinks.each((function(e){e.visible()?e.render(rt.select(this),n,r):rt.select(this).remove()}))},this._drawRenderingPrimitivesForNodes=function(){var e=rt.select("#"+t.divRoot+"_nodes");t.renderedNodes=t.createRenderingPrimitives(e,t.nodes,"NodeItem"),t.renderedNodes.each((function(e){e.visible()?e.render(rt.select(this)):rt.select(this).remove()}))},this.GRAPH_TYPE="ABSTRACT_RENDERING_TYPE",this.model=null,this.layoutHandler=null,this.renderingConfig=null,this.interactionHandler=null,this.drawTools=null,this.nodes=[],this.links=[],this.nodeMap={},this.linkMap={},this.divRoot=null,this.svgRoot=null,this.graphRoot=null,this.layerObject=["arrows","links","properties","nodes"],this.graphBgColor="#ECF0F1"}return Object(d.a)(e,[{key:"createPrimitives",value:function(){var e=this;this.model.nodes.forEach((function(t){e.createNodePrimitive(t)})),this.model.links.forEach((function(t){e.createLinkPrimitive(t)}))}},{key:"createRenderingElements",value:function(){this.model||console.error("NO MODEL SET ! "),this.renderingConfig||(console.warn("NO RENDERING CONFIG HANDLER SET ! WILL CREATE A DEFAULT ONE FOR YOU!"),this.renderingConfig=new gt),this.drawTools||(console.warn("NO DRAWTOOLS  HANDLER SET ! WILL CREATE A DEFAULT ONE FOR YOU!"),this.drawTools=new lt(this)),this.layoutHandler||(console.warn("NO LAYOUT  HANDLER SET ! WILL CREATE A DEFAULT ONE FOR YOU! << FORCE DIRECTED LAYOUT>>>"),this.layoutHandler=new ct(this))}},{key:"createRenderingPrimitives",value:function(e,t,n){return e.selectAll("."+n).data(t).enter().append("g").classed(n,!0).attr("id",(function(e){return e.id()}))}}]),e}(),yt=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).GRAPH_TYPE="VOWL_RENDERING_TYPE",e.layoutHandler=null,e.renderingConfig=null,e.interactionHandler=new ht,e}return Object(d.a)(n,[{key:"createRenderingElements",value:function(){var e=this;Object(ge.a)(Object(me.a)(n.prototype),"createRenderingElements",this).call(this),this.createPrimitives();var t=0;this.links.forEach((function(n){e.updateMultiLinkTypes(n),n.setPosition(200,50*t),t++}))}}]),n}(mt),vt=function e(t){var n=this;Object(s.a)(this,e),this.enableMouseZoom=function(e){n.zoomEnabled=e},this.enableMouseDrag=function(e){n.dragEnabled=e},this.applyGraphInteractions=function(e){if(!e&&n.graphObject){var t=n;n.zoom=rt.behavior.zoom().duration(150).scaleExtent([.02,5]).on("zoom",n.zoomed).on("zoomstart",(function(){rt.event.sourceEvent&&rt.event.sourceEvent.buttons&&1===rt.event.sourceEvent.buttons&&t.graphObject.svgRoot.style("cursor","all-scroll")})).on("zoomend",(function(){t.graphObject.svgRoot.style("cursor","auto")})),n.graphObject.svgRoot.call(n.zoom),n.zoom=n.zoom.scaleExtent([.02,5]),n.graphObject.graphRoot&&n.zoom.event(n.graphObject.graphRoot)}},this.resetUserLayout=function(){n.graphObject.graphRoot.attr("transform","translate("+n.graphTranslation+")scale("+n.zoomFactor+")")},this.zoomed=function(){rt.event.sourceEvent&&(rt.event.sourceEvent.preventDefault(),rt.event.sourceEvent.stopPropagation());var e=n,t=n.graphObject.graphRoot,r=!1;if(rt.event.sourceEvent&&rt.event.sourceEvent.deltaY&&(r=!0),!1===r){if(!0===n.transformAnimation)return;return n.zoomFactor=rt.event.scale,n.graphTranslation=rt.event.translate,void t.attr("transform","translate("+n.graphTranslation+")scale("+n.zoomFactor+")")}n.zoomFactor=rt.event.scale,n.graphTranslation=rt.event.translate,t.transition().tween("attr.translate",(function(){return function(){e.transformAnimation=!0;var n=rt.transform(t.attr("transform"));e.graphTranslation[0]=n.translate[0],e.graphTranslation[1]=n.translate[1],e.zoomFactor=n.scale[0]}})).each("end",(function(){e.transformAnimation=!1})).attr("transform","translate("+e.graphTranslation+")scale("+e.zoomFactor+")").ease("linear").duration(250)},this.graphObject=t,this.zoom=void 0,this.graphTranslation=[0,0],this.zoomFactor=1,this.transformAnimation=!1,this.zoomEnabled=!0,this.dragEnabled=!0},_t=(n(70),function(){function e(t){var n=this;Object(s.a)(this,e),this.setHoverEnabled=function(e){n.hasNodeHover=e},this.setNodeClickEnabled=function(e){n.hasNodeClick=e},this.setNodeDoubleClickEnabled=function(e){n.hasNodeDobleClick=e},this.setDragEnabled=function(e){n.hasNodeDragEnabeld=e},this.applyNodeInteractions=function(){if(n.graphObject){n.dragBehaviour=rt.behavior.drag().origin((function(e){return e})).on("dragstart",n.dragStart).on("drag",n.drag).on("dragend",n.dragEnd);var e=n;n.hoverBehaviour=function(t){e.hasNodeHover&&(t.on("mouseover",e.nodeHoverIn),t.on("mouseout",e.nodeHoverOut))},n.clickBehaviour=function(t){e.hasNodeClick&&t.on("click",e.nodeClick)},n.doubleClickBehavoir=function(t){e.hasNodeDobleClick&&t.on("click",e.nodeDoubleClick)};var t=n.graphObject.nodes;t.length>0&&t.forEach((function(e){e.groupRoot&&(e.groupRoot.call(n.dragBehaviour),e.groupRoot.call(n.hoverBehaviour),e.groupRoot.call(n.clickBehaviour),e.groupRoot.call(n.doubleClickBehavoir),n.addCollapseExpandButton(e))}))}else console.error("NO GRAPH OBJECT FOUND")},this.collapseButton_mouseHoverIn=function(e){e.singleCirc.classed("collapseExpandButtonHovered",!0)},this.collapseButton_mouseHoverOut=function(e){e.singleCirc.classed("collapseExpandButtonHovered",!1)},this.addCollapseExpandButton=function(e){var t=n;e.collapseExapandGroup&&e.collapseExapandGroup.remove();var r=Math.sqrt(1250);e.collapseExapandGroup=e.groupRoot.append("g"),e.singleCirc=e.collapseExapandGroup.append("circle");switch(e.singleCirc.attr("r",15),e.singleCirc.attr("cx",r),e.singleCirc.attr("cy",-r),e.singleCirc.classed("collapseExpandButton",!0),e.collapseExapandGroup.on("mouseover",(function(){t.collapseButton_mouseHoverIn(e)})),e.collapseExapandGroup.on("mouseout",(function(){t.collapseButton_mouseHoverOut(e)})),e.status||-1===e.refereceResource.__nodeType.indexOf("Resource")||(e.status="unknown"),e.status){case"unknown":e.collapseExapandGroup.append("title").text("explore element");var o=e.collapseExapandGroup.append("path");o.attr("id","searchIcon"),o.style("fill","#000"),o.style("stroke-width","0"),o.attr("d","M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"),o.attr("transform","translate(24,-48)"),e.collapseExapandGroup.on("click",(function(e){console.log("WANT TO GET MORE DATA FOR NODE (EXPLORE) !"),console.log(e),t.graphObject.exploreSingleNode(e),console.log("Want to collapse a node ")}));break;case"collapsed":e.collapseExapandGroup.append("title").text("expand node"),e.collapseExapandGroup.append("polygon").attr("points","15.5,5 11,5 16,12 11,19 15.5,19 20.5,12 ").attr("transform","translate(25,-48)"),e.collapseExapandGroup.append("polygon").attr("points","8.5,5 4,5 9,12 4,19 8.5,19 13.5,12 ").attr("transform","translate(25,-48)"),e.collapseExapandGroup.on("click",(function(e){console.log(e),console.log("Want to collapse a node ")}));break;case"expanded":e.collapseExapandGroup.append("title").text("collapse node"),e.collapseExapandGroup.append("polygon").attr("points","15.5,5 11,5 16,12 11,19 15.5,19 20.5,12 ").attr("transform","translate(47,-48), scale(-1,1)"),e.collapseExapandGroup.append("polygon").attr("points","8.5,5 4,5 9,12 4,19 8.5,19 13.5,12 ").attr("transform","translate(47,-48), scale(-1,1)"),e.collapseExapandGroup.on("click",(function(){console.log("want to expand a node ")}));break;default:console.log("leaf node should not have hovers"),e.collapseExapandGroup.classed("hidden",!0)}},this.dragStart=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.fixed=!0,e.groupRoot.style("cursor","pointer"))},this.drag=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.setPosition(rt.event.x,rt.event.y),e.px=rt.event.x,e.py=rt.event.y,e.updateRenderingPosition(),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.dragEnd=function(e){n.hasNodeDragEnabeld&&(e.fixed=!1,e.groupRoot.style("cursor","auto"),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.graphObject=t,this.dragBehaviour=null,this.hasNodeClick=!1,this.hasNodeDobleClick=!1,this.hasNodeHover=!0}return Object(d.a)(e,[{key:"nodeHoverIn",value:function(e){e.renderingShape.style("fill","red")}},{key:"nodeHoverOut",value:function(e){e.renderingShape.style("fill",e.renderingConfig().style.bgColor)}},{key:"nodeDoubleClick",value:function(e){rt.event.stopPropagation(),rt.event.preventDefault()}},{key:"nodeClick",value:function(e){}}]),e}()),wt=function(){function e(t){var n=this;Object(s.a)(this,e),this.setHoverEnabled=function(e){n.hasLinkHover=e,n.hasPropertyHover=e},this.setNodeClickEnabled=function(e){n.hasNodeClick=e},this.setNodeDoubleClickEnabled=function(e){n.hasNodeDobleClick=e},this.setDragEnabled=function(e){n.hasNodeDragEnabeld=e},this.applyLinkInteractions=function(){if(n.graphObject){n.dragBehaviour=rt.behavior.drag().origin((function(e){return e})).on("dragstart",n.dragStart).on("drag",n.drag).on("dragend",n.dragEnd);var e=n;n.hoverBehaviour=function(t){e.hasLinkHover&&(t.on("mouseover",e.linkHoverIn),t.on("mouseout",e.linkHoverOut))},n.propertyHoverBehaviour=function(t){e.hasPropertyHover&&(t.on("mouseover",e.propertyHoverIn),t.on("mouseout",e.propertyHoverOut))};var t=n.graphObject.links;t.length>0&&t.forEach((function(e){if(e.groupRoot&&(e.groupRoot.call(n.hoverBehaviour),e.renderingShape)){var t=e.renderingShape.node().parentNode;if(t){var r=rt.select(t);r&&(r.call(n.propertyHoverBehaviour),r.call(n.dragBehaviour))}}}))}else console.error("NO GRAPH OBJECT FOUND")},this.propertyHoverIn=function(e){e.ref.renderingShape.style("fill","red"),!0!==e.mouseEntered&&(e.mouseEntered=!0,e.keepRendering=!0,e.unblockRendering&&(e.keepRendering=!1,e.unblockRendering=!1))},this.dragStart=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.fixed=!0,e.groupRoot.style("cursor","pointer"))},this.drag=function(e){n.hasNodeDragEnabeld&&(rt.event.sourceEvent.stopPropagation(),e.setPosition(rt.event.x,rt.event.y),e.px=rt.event.x,e.py=rt.event.y,e.ref.updateRenderingPosition(),e.layoutHandlerReference&&e.layoutHandlerReference.force&&e.layoutHandlerReference.resumeForce())},this.dragEnd=function(e){n.hasNodeDragEnabeld&&(e.fixed=!1,e.groupRoot.style("cursor","auto"))},this.graphObject=t,this.dragBehaviour=null,this.hasNodeClick=!1,this.hasNodeDobleClick=!1,this.hasLinkHover=!0,this.hasPropertyHover=!0}return Object(d.a)(e,[{key:"linkHoverIn",value:function(e){e.renderingLine.style("stroke","red")}},{key:"linkHoverOut",value:function(e){e.renderingLine.style("stroke",e.renderingConfig().style.link.lineColor)}},{key:"propertyHoverOut",value:function(e){e.ref.renderingShape.style("fill",e.ref.renderingConfig().style.propertyNode.bgColor),"multiLink"===e.ref.__internalType&&rt.selectAll(".MultiLinkHoverButton").remove(),e.mouseEntered=!1}},{key:"nodeDoubleClick",value:function(e){}},{key:"nodeClick",value:function(e){}}]),e}(),bt=function(){function e(){Object(s.a)(this,e),this.graphInteractions=null,this.nodeInteractions=null,this.linkInteractions=null}return Object(d.a)(e,[{key:"initializeInteractions",value:function(e){this.graphInteractions=new vt(e),this.nodeInteractions=new _t(e),this.linkInteractions=new wt(e)}},{key:"applyInteractions",value:function(e,t){this.graphInteractions||(console.warn("NO GRAPH INTERACTIONS DEFINED!  << Creating default ones >> "),this.graphInteractions=new vt(e)),this.graphInteractions.applyGraphInteractions(t),this.nodeInteractions||(console.warn("NO NODE INTERACTIONS DEFINED!  << Creating default ones >> "),this.nodeInteractions=new _t(e)),this.nodeInteractions.applyNodeInteractions(t),this.linkInteractions||(console.warn("NO LINK INTERACTIONS DEFINED!  << Creating default ones >> "),this.linkInteractions=new wt(e)),this.linkInteractions.applyLinkInteractions(t)}}]),e}(),kt=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).getStatementsBySubject=function(){var t=Object(ie.a)(ae.a.mark((function t(n){var r,o,a,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.orkgDataLoader.setRequestResourceId(n.id),r=new Qe,o=r.getResult(),a=new xe,i=new Ne,t.next=7,e.orkgDataLoader.execute();case 7:return r.setInputData(e.orkgDataLoader.getResult()),r.execute().then((function(){})),a.setInputData(o),a.execute().then((function(){})),i.setInputData(a.getResult()),i.execute().then((function(){})),t.abrupt("return",i.getResult().resultingModel.getResult());case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDataFromApi=function(){var t=Object(ie.a)(ae.a.mark((function t(n){var r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getStatementsBySubject({id:n});case 3:if(0!==(r=t.sent).nodes.length||0!==r.link){t.next=8;break}return t.abrupt("return",{});case 8:return t.abrupt("return",r);case 9:t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(0),t.abrupt("return",{});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),e.GRAPH_TYPE="ORKG_RENDERING_TYPE",e.layoutHandler=null,e.renderingConfig=null,e.interactionHandler=new bt,e.interactionHandler.initializeInteractions(Object(We.a)(e)),e.orkgDataLoader=new Ye,e}return Object(d.a)(n,[{key:"setExploreAnimation",value:function(e,t){if(!0===t){var n=e.groupRoot;e.renderingAnimationGroup=n.append("rect");e.renderingAnimationGroup.attr("x",-43),e.renderingAnimationGroup.attr("y",-43),e.renderingAnimationGroup.attr("width",86),e.renderingAnimationGroup.attr("height",86),e.renderingAnimationGroup.attr("rx",43),e.renderingAnimationGroup.attr("ry",43),e.renderingAnimationGroup.style("stroke-width","7px"),e.renderingAnimationGroup.classed("loadingAnimation",!0)}else this.renderingAnimationGroup&&this.renderingAnimationGroup.remove()}},{key:"singleNodeExploration",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n,r,o=this;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.__id,t.nodeHasBeenExplored=!0,e.next=4,this.getDataFromApi(n);case 4:(r=e.sent).nodes?(r.nodes.forEach((function(e){o.nodeMap[e.__nodeLinkIdentifier]||o.createNodePrimitive(e)})),r.links.forEach((function(e){o.linkMap[e.__nodeLinkIdentifier]?(e.__nodeLinkIdentifier+="$$Clone",o.createLinkPrimitive(e)):o.createLinkPrimitive(e)})),t.status="expanded"):(this.setExploreAnimation(t,!1),t.status="leafNode"),this.drawNewElements();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"exploreSingleNode",value:function(e){this.setExploreAnimation(e,!0),this.singleNodeExploration(e).then((function(){}))}},{key:"drawNewElements",value:function(){this.graphRoot.selectAll("defs").remove(),this.graphRoot.selectAll("g").remove(),this._createLayers(),this.renderedNodes=[],this.renderedLinks=[],this.redrawRenderingPrimitives(),this.interactionHandler?this.interactionHandler.applyInteractions(this,!0):console.log("No Interaction Handler set, the graph will be static!"),this.layoutHandler?(this.layoutHandler.initializeLayoutEngine(),this.layoutHandler.resumeForce()):console.log("No Layout Handler set, the graph will be static!")}},{key:"createRenderingElements",value:function(){var e=this;Object(ge.a)(Object(me.a)(n.prototype),"createRenderingElements",this).call(this),this.createPrimitives();var t=0;this.links.forEach((function(n){e.updateMultiLinkTypes(n),n.setPosition(200,50*t),t++}))}}]),n}(mt),xt=function e(){var t=this;Object(s.a)(this,e),this.getNodeConfigFromType=function(e){return t.renderingConfigObject.nodes.hasOwnProperty(e)?t.renderingConfigObject.nodes[e]:t.defaultNodeCFG},this.getLinkConfigFromType=function(e){return t.renderingConfigObject.links.hasOwnProperty(e)?t.renderingConfigObject.links[e]:t.defaultLinkCFG},this.renderingConfigObject={nodes:{"owl:Thing":{style:{renderingType:"circle",bgColor:"#ffffff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!1,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},"owl:Class":{style:{renderingType:"circle",bgColor:"#aaccff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!1,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},"owl:equivalentClass":{style:{renderingType:"circle",bgColor:"#aaccff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dotted",strokeColor:"#000",radius:50,width:100,height:50,doubleStrokes:!0},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},"rdfs:Literal":{style:{renderingType:"rect",bgColor:"#FFCC33",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:50,height:20},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!1,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},Literal:{style:{renderingType:"rect",bgColor:"#FFCC33",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:50,height:20},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},links:{"owl:datatypeProperty":{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#99CC66",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}},"rdfs:subClassOf":{style:{link:{lineStyle:"dashed",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#ECF0F1",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}},"owl:equivalentClass":{style:{link:{lineStyle:"dashed",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#ffffff"},propertyNode:{style:{renderingType:"rect",bgColor:"#ECF0F1",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}},"owl:objectProperty":{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#aaccff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"curve"}}}},this.defaultNodeCFG={style:{renderingType:"circle",bgColor:"#ffffff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},this.defaultLinkCFG={style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#f9fff8"},arrowTail:{renderingType:"diamond",scaleFactor:2,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#d58d88",fillColor:"#d6d5d5"},propertyNode:{style:{renderingType:"rect",bgColor:"#fefdff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"true",strokeWidth:"1px",strokeStyle:"dashed",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}},Et=function e(){var t=this;Object(s.a)(this,e),this.getNodeConfigFromType=function(e){return t.renderingConfigObject.nodes.hasOwnProperty(e)?t.renderingConfigObject.nodes[e]:t.defaultNodeCFG},this.getLinkConfigFromType=function(e){return t.renderingConfigObject.links.hasOwnProperty(e)?t.renderingConfigObject.links[e]:t.defaultLinkCFG},this.renderingConfigObject={nodes:{auxForDataTypeProperties:{style:{renderingType:"rect",bgColor:"#99CC66",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:30,roundedCorner:"20, 20"},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},auxForObjectProperties:{style:{renderingType:"rect",bgColor:"#aaccff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:30,roundedCorner:"20, 20"},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},links:{auxLink:{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#b0b1b1",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",radius:50,width:100,height:25,roundedCorner:"10, 10"},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}}},this.defaultNodeCFG={style:{renderingType:"ellipse",bgColor:"#959796",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},this.defaultLinkCFG={style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},arrowTail:{renderingType:"diamond",scaleFactor:2,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#d6d5d5"},propertyNode:{style:{renderingType:"rect",bgColor:"#ffffff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"true",strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000000",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}},Ot=function e(){var t=this;Object(s.a)(this,e),this.getNodeConfigFromType=function(e){return t.renderingConfigObject.nodes.hasOwnProperty(e)?t.renderingConfigObject.nodes[e]:t.defaultNodeCFG},this.getLinkConfigFromType=function(e){return t.renderingConfigObject.links.hasOwnProperty(e)?t.renderingConfigObject.links[e]:t.defaultLinkCFG},this.renderingConfigObject={nodes:{"rdfs:Literal":{style:{renderingType:"rect",bgColor:"#FFCC33",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:90,height:20},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!1,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},Literal:{style:{renderingType:"rect",bgColor:"#FFCC33",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:90,height:20},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},links:{"owl:datatypeProperty":{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#99CC66",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}},"owl:objectProperty":{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#aaccff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}}},this.defaultNodeCFG={style:{renderingType:"rect",bgColor:"#ffffff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50,roundedCorner:"10,10"},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},this.defaultLinkCFG={style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},arrowTail:{renderingType:"diamond",scaleFactor:2,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#d6d5d5"},propertyNode:{style:{renderingType:"rect",bgColor:"#ffffff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"true",strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000000",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}},Rt=function e(){var t=this;Object(s.a)(this,e),this.getNodeConfigFromType=function(e){return t.renderingConfigObject.nodes.hasOwnProperty(e)?t.renderingConfigObject.nodes[e]:t.defaultNodeCFG},this.getLinkConfigFromType=function(e){return t.renderingConfigObject.links.hasOwnProperty(e)?t.renderingConfigObject.links[e]:t.defaultLinkCFG},this.renderingConfigObject={nodes:{Resource:{style:{renderingType:"circle",bgColor:"#aaccff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},Literal:{style:{renderingType:"rect",bgColor:"#FFCC33",strokeElement:!0,strokeWidth:"1px",strokeStyle:"dashed",strokeColor:"#000",radius:30,width:50,height:20},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!1,addTitleForDisplayName:!0,fontSizeOverWritesShapeSize:!0,overwriteOffset:20,fontPositionH:"center",fontPositionV:"center"}}},links:{"owl:datatypeProperty":{style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#99CC66",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!0,overwriteOffset:10,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}}},this.defaultNodeCFG={style:{renderingType:"circle",bgColor:"#aaccff",strokeElement:!0,strokeWidth:"1px",strokeStyle:"solid",strokeColor:"#000",radius:50,width:100,height:50},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,drawNestedAttributes:!1,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}},this.defaultLinkCFG={style:{link:{lineStyle:"solid",lineWidth:"2px",lineColor:"#000000"},arrowHead:{renderingType:"triangle",scaleFactor:1,strokeWidth:"2px",strokeStyle:"solid",strokeColor:"#000000",fillColor:"#000000"},propertyNode:{style:{renderingType:"rect",bgColor:"#aaccff",roundedCorner:"0,0",fontSizeOverWritesShapeSize:"true",overWriteOffset:"5",strokeElement:"false",radius:50,width:100,height:25},fontStyle:{fontFamily:"Helvetica,Arial,sans-serif",fontColor:"#000000",fontSize:"12px"},options:{drawDisplayName:!0,cropLongText:!0,addTitleForDisplayName:!0,overwritesShapeSize:!1,overwriteOffset:0,fontPositionH:"center",fontPositionV:"center"}}},options:{drawPropertyNode:!0,drawArrowHead:!0,drawArrowTail:!1,link_renderingType:"line"}}},St=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(e){var t=document.getElementById("visualizationPreviewContainer").getBoundingClientRect();if(r.state.offset!==t.y&&r.setState({offset:t.y}),r.props.store.createPreviewVisualization!==e.store.createPreviewVisualization&&!0===e.store.createPreviewVisualization&&r.renderingModule._clearRenderingContainers(),r.props.store.createPreviewVisualization!==e.store.createPreviewVisualization&&!0===r.props.store.createPreviewVisualization){var n=new yt,o=new gt;"VOWL"===r.props.store.renderingModuleConfig.configSelected&&(o=new xt),"RDF"===r.props.store.renderingModuleConfig.configSelected&&(console.log("Creating RDF Styled Rendering Handler"),o=new Et),"UML"===r.props.store.renderingModuleConfig.configSelected&&(console.log("Creating RDF Styled Rendering Handler"),o=new Ot),"ORKG"===r.props.store.renderingModuleConfig.configSelected&&(n=new kt,console.log("Creating ORKG Rendering Handler"),o=new Rt),n.setRenderingConfig(o);var a=new le,i=new ve,s=new xe,d=new Ne;"DBPedia"===r.props.store.selectedDataSource&&(a=new ze,i=new _e),"WikiData"===r.props.store.selectedDataSource&&(a=new Ue,i=new Xe),"ORKG"===r.props.store.selectedDataSource&&(a=new Ye,i=new Qe),"VOWL"===r.props.store.selectedNodeLinkMapper&&(d=new et),"RDF"===r.props.store.selectedNodeLinkMapper&&(d=new Je),"UML"===r.props.store.selectedNodeLinkMapper&&(d=new Ze),a.execute().then((function(){console.log("DAH Output >> ",a.getResult()),i.setInputData(a.getResult()),i.execute().then((function(){}));var e=i.getResult();console.log(e),s.setInputData(e),s.execute().then((function(){d.setInputData(s.getResult()),d.execute().then((function(){console.log(">>> EVERYTHING IS PREPARED "),console.log(d.getResult().resultingModel.getResult()),n.setRenderingContainer("visualizationPreviewArea"),n.configureGraphInteractions(r.props.store.renderingModuleConfig),n.setModel(d.getResult().resultingModel.getResult()),n.initializeRenderingContainer(),n.createRenderingElements(),n.drawRenderingPrimitives(),r.renderingModule=n}))}))}))}},r.state={offset:0},r.renderingModule="null",r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100%",height:"100px"}},o.a.createElement("div",{style:{borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderBottomRightRadius:"0",borderBottomLeftRadius:"0",height:"40px",width:"100%",color:"white",backgroundColor:"#ad2f38"}},o.a.createElement("div",{style:{width:"100%",textAlign:"left",padding:"5px"}},this.props.title)),o.a.createElement("div",{id:"visualizationPreviewContainer",style:{paddingBottom:"5px",borderRadius:"10px",borderWidth:"1px",borderColor:"rgb(219,221,229)",borderStyle:"solid",borderTopRightRadius:"0",borderTopLeftRadius:"0",color:"black",backgroundColor:"#ffffff",marginTop:"-1px",position:"relative",width:"100%"}},o.a.createElement("div",{id:"visualizationPreviewArea",style:{height:this.props.store.createPreviewVisualization?window.innerHeight-this.state.offset-50:"10px",width:"100%"}})))}}]),n}(r.Component),Nt=Object(D.c)((function(e){return{store:e.store}}),(function(e){return{selectDataSource:function(t){return e(P(t))}}}))(St);function Ct(){var e=Object(u.a)(["\n    animation-name: ",";\n    animation-duration: 20ms;\n    position: relative;\n    width:","px\n    left: ","px;\n"]);return Ct=function(){return e},e}function Lt(){var e=Object(u.a)(["\n  from {\n    width:","px\n  }\n  to {\n    width: ","px\n  }\n  "]);return Lt=function(){return e},e}function Tt(){var e=Object(u.a)(["\n  from {\n    left: ","px;\n    width:","px\n  }\n  to {\n    width: ","px\n    left: ","px;\n  }\n  "]);return Tt=function(){return e},e}var It=m.a.div(Ct(),(function(e){var t=e.expandedLeft,n=e.oldLeftExpanded,r=e.newWidth,o=e.oldWidth,a=e.leftWidth;return!(t===n)?Object(m.b)(Tt(),t?0:a,o,r,t?a:0):Object(m.b)(Lt(),o,r)}),(function(e){return e.newWidth}),(function(e){return e.expandedLeft?e.leftWidth:0})),Dt=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).state={expanded:!0,minWidth:300,title:e.title,initialRendering:!0,updateFlipFlop:!1},r}return Object(d.a)(n,[{key:"render",value:function(){return o.a.createElement(It,{id:"MainWidget",expandedLeft:this.props.leftSideBarExpanded,expandedRight:this.props.rightSideBarExpanded,oldWidth:this.props.oldWidth,newWidth:this.props.newWidth,leftWidth:this.props.leftSidebarWidth,rightWidth:this.props.rightSidebarWidth,oldLeftExpanded:this.props.oldLeftSidebarState,initialRendering:this.state.initialRendering,style:{height:"100%",width:window.innerWidth-250,left:"250px"}},o.a.createElement("div",{style:{width:"85%",height:"100%",position:"relative",left:"10%"}},o.a.createElement(nt,{title:"Pipeline Visualization"})," ",o.a.createElement("br",null),o.a.createElement(Nt,{style:{marginTop:"10px"},title:"Visualization Preview"})))}}]),n}(r.Component),Pt=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).componentDidUpdate=function(e,t){r.updateMainWidgetSize()},r.leftSideBarUpdateEvent=function(e){var t=r.state.windowWidth;e&&(t-=r.state.leftSidebarWidth+300),r.state.rightSidebarExpanded&&(t-=r.state.rightSidebarWidth),r.setState({leftSidebarExpanded:e,oldLeftSideState:r.state.leftSidebarExpanded,oldMainWidgetWidth:r.state.newMainWidgetWidth,newMainWidgetWidth:t})},r.rightSideBarUpdateEvent=function(e){var t=r.state.windowWidth;e&&(t-=r.state.rightSidebarWidth),r.state.leftSidebarExpanded&&(t-=r.state.leftSidebarWidth+300),r.setState({oldLeftSideState:r.state.leftSidebarExpanded,rightSidebarExpanded:e,oldMainWidgetWidth:r.state.newMainWidgetWidth,newMainWidgetWidth:t}),r.updateMainWidgetSize()},r.updateDimensions=function(){var e=window.innerWidth;r.state.leftSidebarExpanded&&(e-=r.state.leftSidebarWidth+300),r.state.rightSidebarExpanded&&(e-=r.state.rightSidebarWidth),r.setState({windowHeight:window.innerHeight,leftSidebarExpanded:r.state.leftSidebarExpanded,oldLeftSideState:r.state.leftSidebarExpanded,oldMainWidgetWidth:e,newMainWidgetWidth:e,windowWidth:window.innerWidth})},r.updateMainWidgetSize=function(){var e=document.getElementById("LeftSidebarContainer").getBoundingClientRect().height,t=document.getElementById("RightSidebarContainer").getBoundingClientRect().height,n=Math.max(t,e);n!==r.state.mainWidgetHeight&&r.setState({mainWidgetHeight:n})},r.state={leftSidebarExpanded:!0,rightSidebarExpanded:!0,oldMainWidgetWidth:500,newMainWidgetWidth:500,windowWidth:500,mainWidgetHeight:200,componentInitialized:!1,oldLeftSideState:!0,leftSidebarWidth:320,rightSidebarWidth:300},r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions),this.updateDimensions()}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100%",height:this.state.windowHeight,backgroundColor:"#3f3a40",margin:"auto",padding:"10px"}},o.a.createElement("div",{style:{display:"flex",marginTop:"5px"}},o.a.createElement(Dt,{leftSideBarExpanded:this.state.leftSidebarExpanded,rightSideBarExpanded:this.state.rightSidebarExpanded,leftSidebarWidth:this.state.leftSidebarWidth,rightSidebarWidth:this.state.rightSidebarWidth,oldWidth:this.state.oldMainWidgetWidth,newWidth:this.state.newMainWidgetWidth,oldLeftSidebarState:this.state.oldLeftSideState,height:this.state.mainWidgetHeight,title:"MAIN"}),o.a.createElement(F,{width:this.state.leftSidebarWidth,title:"Modules Selection",loading:!1,updateEvent:this.leftSideBarUpdateEvent}),o.a.createElement(U,{width:this.state.rightSidebarWidth,title:"Module Options",loading:!1,updateEvent:this.rightSideBarUpdateEvent,heightUpdateEvent:this.updateMainWidgetSize})))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Mt=n(33),jt=n(86),At=n(44),Ht={selectedDataSource:"Ontology File",selectedDataSourceConfig:{},selectedVertexEdgeMapper:"Basic Mapper",selectedVertexEdgeMapperConfig:{},selectedNodeLinkMapper:"Basic Mapper",selectedNodeLinkMapperConfig:{},createPreviewVisualization:!1,renderingModuleConfig:{graph_mouseZoom:!0,graph_mouseDrag:!0,node_mouseDrag:!0,node_mouseHover:!0,node_mouseSingleClick:!0,node_mouseDoubleClick:!0,graphBgColor:"white",configSelected:"Default",link_mouseDrag:!0,link_mouseHover:!0}},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_DATASOURCE":return Object(Ce.a)(Object(Ce.a)({},e),{},{selectedDataSource:t.payload.selectedDataSource});case"SELECT_VERTEXEDGE_MAPPER":return Object(Ce.a)(Object(Ce.a)({},e),{},{selectedVertexEdgeMapper:t.payload.selectedVertexEdgeMapper});case"SELECT_NODELINK_MAPPER":return Object(Ce.a)(Object(Ce.a)({},e),{},{selectedNodeLinkMapper:t.payload.selectedNodeLinkMapper});case"CREATE_PREVIEW_VISUALIZATION":return Object(Ce.a)(Object(Ce.a)({},e),{},{createPreviewVisualization:t.payload.createPreviewVisualization});case"UPDATE_RENDERING_MODULE_CONFIG":return Object(Ce.a)(Object(Ce.a)({},e),{},{renderingModuleConfig:t.payload});default:return e}},Wt=n(71),zt=n(27),Bt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Mt.d,Vt=Object(zt.a)({basename:"/donatello-pipelines"});var Ut=function(){return Object(Mt.e)((e=Vt,Object(Mt.c)({router:e?Object(At.a)(e):null,store:Ft})),Bt(Object(Mt.a)(jt.a,Object(Wt.a)(Vt))));var e}();i.a.render(o.a.createElement(D.a,{store:Ut},o.a.createElement(Pt,{history:Vt})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e){e.exports=JSON.parse('{"availableSources":["Ontology File","DBPedia","WikiData","ORKG"],"availableVertexEdgeMappers":["Basic Mapper"],"availableNodeLinkMappers":["Basic Mapper","VOWL","RDF","UML"],"availableRenderingConfigs":["Default","VOWL","RDF","UML","ORKG","TODO:Customizable"],"Ontology File":{"moduleName":"ONTOLOGY_FILE_LOADER","useProxy":true,"disabledFileUpload":true,"demoFile":"src/demoRequests/ontologyFile.json","renderingItems":{"Note":"File upload disabled","File":"src/demoRequests/ontologyFile.json"}},"DBPedia":{"moduleName":"DBPEDILA_DATA_SOURCE","endPointURL":"http://dbpedia.org/sparql/","graphURL":"http://dbpedia.org","query":"src/demoRequests/DBPediaExampleQuery.json","renderingItems":{"EndPoint":"http://dbpedia.org/sparql/","Graph":"http://dbpedia.org","Query":"src/demoRequests/DBPediaExampleQuery.json"}},"WikiData":{"moduleName":"WIKIDATA_DATA_SOURCE","renderingItems":{}},"ORKG":{"moduleName":"ORKG_DATA_SOURCE","renderingItems":{}}}')},70:function(e,t,n){},81:function(e,t,n){e.exports=n.p+"static/media/demoBundle.39e97e15.zip"},83:function(e){e.exports=JSON.parse('{"_comment":"Created with OWL2VOWL (version 0.3.7), http://vowl.visualdataweb.org","header":{"languages":["de","en","fr","undefined"],"baseIris":["http://www.w3.org/1999/02/22-rdf-syntax-ns","http://schema.org","http://www.w3.org/2000/01/rdf-schema","http://www.w3.org/2003/01/geo/wgs84_pos","http://purl.org/dc/terms","http://www.w3.org/2001/XMLSchema","http://xmlns.com/foaf/0.1","http://www.w3.org/2000/10/swap/pim/contact"],"prefixList":{"owl":"http://www.w3.org/2002/07/owl#","rdf":"http://www.w3.org/1999/02/22-rdf-syntax-ns#","skos":"http://www.w3.org/2004/02/skos/core#","wot":"http://xmlns.com/wot/0.1/","xsd":"http://www.w3.org/2001/XMLSchema#","":"http://xmlns.com/foaf/0.1/","dc":"http://purl.org/dc/elements/1.1/","xml":"http://www.w3.org/XML/1998/namespace","vs":"http://www.w3.org/2003/06/sw-vocab-status/ns#","foaf":"http://xmlns.com/foaf/0.1/","rdfs":"http://www.w3.org/2000/01/rdf-schema#"},"title":{"en":"Friend of a Friend (FOAF) vocabulary"},"iri":"http://xmlns.com/foaf/0.1/","description":{"en":"The Friend of a Friend (FOAF) RDF vocabulary, described using W3C RDF Schema and the Web Ontology Language."},"other":{"title":[{"identifier":"title","language":"en","value":"Friend of a Friend (FOAF) vocabulary","type":"label"}]}},"namespace":[],"class":[{"id":"0","type":"owl:equivalentClass"},{"id":"1","type":"owl:Thing"},{"id":"2","type":"owl:equivalentClass"},{"id":"8","type":"owl:equivalentClass"},{"id":"4","type":"owl:equivalentClass"},{"id":"11","type":"rdfs:Literal"},{"id":"10","type":"rdfs:Literal"},{"id":"3","type":"owl:equivalentClass"},{"id":"7","type":"owl:Class"}],"classAttribute":[{"iri":"http://www.w3.org/2000/10/swap/pim/contact#Person","baseIri":"http://www.w3.org/2000/10/swap/pim/contact","instances":0,"label":{"IRI-based":"Person"},"attributes":["external","equivalent"],"id":"0"},{"iri":"http://www.w3.org/2002/07/owl#Thing","baseIri":"http://owl2vowl.de","id":"1","label":{"undefined":"Thing"}},{"iri":"http://xmlns.com/foaf/0.1/Agent","equivalent":["4"],"baseIri":"http://xmlns.com/foaf/0.1","instances":0,"annotations":{"term_status":[{"identifier":"term_status","language":"undefined","value":"stable","type":"label"}]},"label":{"IRI-based":"Agent","en":"Agent"},"subClasses":["3"],"comment":{"undefined":"An agent (eg. person, group, software or physical artifact)."},"attributes":["equivalent"],"id":"2"},{"iri":"http://schema.org/Person","baseIri":"http://schema.org","instances":0,"label":{"IRI-based":"Person"},"attributes":["external","equivalent"],"id":"8"},{"iri":"http://purl.org/dc/terms/Agent","baseIri":"http://purl.org/dc/terms","instances":0,"label":{"IRI-based":"Agent"},"attributes":["external","equivalent"],"id":"4"},{"iri":"http://www.w3.org/2000/01/rdf-schema#Literal","baseIri":"http://www.w3.org/2000/01/rdf-schema","id":"11","label":{"IRI-based":"Literal","undefined":"Literal"}},{"iri":"http://www.w3.org/2000/01/rdf-schema#Literal","baseIri":"http://www.w3.org/2000/01/rdf-schema","id":"10","label":{"IRI-based":"Literal","undefined":"Literal"}},{"iri":"http://xmlns.com/foaf/0.1/Person","equivalent":["0","8"],"baseIri":"http://xmlns.com/foaf/0.1","instances":0,"annotations":{"isDefinedBy":[{"identifier":"isDefinedBy","language":"undefined","value":"http://xmlns.com/foaf/0.1/","type":"iri"}],"term_status":[{"identifier":"term_status","language":"undefined","value":"stable","type":"label"}]},"label":{"de":"Die Person","IRI-based":"Person","en":"Person","fr":"Une Person","undefined":"A Person"},"comment":{"undefined":"A person."},"attributes":["equivalent"],"id":"3","superClasses":["2","7"]},{"iri":"http://www.w3.org/2003/01/geo/wgs84_pos#SpatialThing","baseIri":"http://www.w3.org/2003/01/geo/wgs84_pos","instances":0,"label":{"IRI-based":"SpatialThing"},"subClasses":["3"],"attributes":["external"],"id":"7"}],"property":[{"id":"5","type":"rdfs:SubClassOf"},{"id":"6","type":"rdfs:SubClassOf"},{"id":"9","type":"owl:datatypeProperty"},{"id":"12","type":"owl:datatypeProperty"},{"id":"13","type":"owl:objectProperty"}],"propertyAttribute":[{"range":"2","domain":"3","attributes":["object","anonymous"],"id":"5"},{"range":"7","domain":"3","attributes":["object","anonymous"],"id":"6"},{"iri":"http://xmlns.com/foaf/0.1/givenName","baseIri":"http://xmlns.com/foaf/0.1","range":"10","annotations":{"isDefinedBy":[{"identifier":"isDefinedBy","language":"undefined","value":"http://xmlns.com/foaf/0.1/","type":"iri"}],"term_status":[{"identifier":"term_status","language":"undefined","value":"testing","type":"label"}]},"label":{"IRI-based":"givenName","en":"Given name"},"domain":"1","comment":{"undefined":"The given name of some person."},"attributes":["datatype"],"id":"9"},{"iri":"http://xmlns.com/foaf/0.1/lastName","baseIri":"http://xmlns.com/foaf/0.1","range":"11","annotations":{"isDefinedBy":[{"identifier":"isDefinedBy","language":"undefined","value":"http://xmlns.com/foaf/0.1/","type":"iri"}],"term_status":[{"identifier":"term_status","language":"undefined","value":"testing","type":"label"}]},"label":{"IRI-based":"lastName","en":"lastName"},"domain":"3","comment":{"undefined":"The last name of a person."},"attributes":["datatype"],"id":"12"},{"iri":"http://xmlns.com/foaf/0.1/knows","baseIri":"http://xmlns.com/foaf/0.1","range":"3","annotations":{"isDefinedBy":[{"identifier":"isDefinedBy","language":"undefined","value":"http://xmlns.com/foaf/0.1/","type":"iri"}],"term_status":[{"identifier":"term_status","language":"undefined","value":"stable","type":"label"}]},"label":{"IRI-based":"knows","en":"knows"},"domain":"3","comment":{"undefined":"A person known by this person (indicating some level of reciprocated interaction between the parties)."},"attributes":["object"],"id":"13"}]}')},88:function(e,t,n){e.exports=n(127)},93:function(e,t,n){},94:function(e,t,n){}},[[88,1,2]]]);
//# sourceMappingURL=main.6b3db444.chunk.js.map